function landingController(t,e,r,n,i,o){var c=this;c.model=i,t.$watch("vm.model.shipping.address.zip",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.zip=t)}),t.$watch("vm.model.shipping.address.city",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.city=t)}),t.$watch("vm.model.shipping.address.state",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.state=t)}),t.$watch("vm.model.shipping.address.street1",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.street1=t)}),t.$watch("vm.model.shipping.address.street2",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.street2=t)}),t.$watch("vm.model.shipping.address.street3",function(t,e){c.model.copyShippingAddress&&(c.model.billing.address.street3=t)}),c.copyShippingAddress=function(t){e.info("copying",c.model.shipping),t?c.model.billing.address=c.model.shipping.address:c.model.billing.address=i.billing.address},c.submitForm=function(t){e.info("submitting",t),o.submitSale(c.model).then(function(t){e.info(t)})["catch"](function(t){e.info(t)})}}function dataModel(t){function e(t){}function r(t,e){}function n(t){}function i(t,e){}var o={name:{first:"",last:""},email:"",copyShippingAddress:!0,shipping:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},requirnments:{}},billing:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},payment:{number:["","","",""],exp:["",""],csv:""}},_read:e,_update:r,readProp:n,updateProp:i};return o}function state(t){var e={model:{allElementsCompleted:!1,fields:[],input:{prop:{name:"",requirnments:[]},state:{addressed:!1,success:!1,failure:!1}}},classes:{"form-group":!1,"has-success":!1,"has-warning":!1,"has-danger":!1,"form-control-label":!1,"form-control":!1,"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1,"form-control-feedback":!1,"form-text":!1,"text-muted":!1},styles:{},changeState:{inputSuccess:"",inputFailed:""}};return e}function billingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.toggleAddressCopy=function(t){r.copyShipping()(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/billingInfo.directive.htm",replace:!0,scope:{address:"=",payment:"=",copyShippingAddress:"=",copyShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCSV(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCSV.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCapture(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCapture.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccExp(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccExp.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccName.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccNumber(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccNumber.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function city(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/city.directive.htm",replace:!0,scope:{cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function contactInfo(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/contactInfo.directive.htm",replace:!0,scope:{name:"=",email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function emailAddress(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailAddress.directive.htm",replace:!0,scope:{email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function firstName(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.state={container:{classes:r.initClasses("container"),styles:r.initStyles("container")},input:{classes:r.initClasses("input"),styles:r.initStyles("container")}},n.validate=function(t,e){}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/firstName.directive.htm",replace:!0,scope:{first:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","stateData"],r}function lastName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/lastName.directive.htm",replace:!0,scope:{last:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function progressBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/progressBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function purchaseBtn(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/purchaseBtn.directive.htm",replace:!0,scope:{submitForm:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingCalculator(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingCalculator.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;e.info(r.address)}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingInfo.directive.htm",replace:!0,scope:{address:"=",requirnments:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function state(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/state.directive.htm",replace:!0,scope:{stateId:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function street(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/street.directive.htm",replace:!0,scope:{streetAddress:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function toolBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function yourName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/yourName.directive.htm",replace:!0,scope:{name:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function zipCode(){function t(t,e,r,n){}function e(t,e,r,n){function i(t){var e=!1;return"undefined"!=typeof t&&t.length>=5&&(e=!0),e}function o(){s.state.container.classes=n.updateState("container","success"),s.state.input.classes=n.updateState("input","success")}function c(){s.state.container.classes["has-success"]=!1,s.state.container.classes["has-warning"]=!0,s.state.container.classes["has-danger"]=!1,s.state.input.classes["form-control-success"]=!1,s.state.input.classes["form-control-warning"]=!0,s.state.input.classes["form-control-danger"]=!1}var s=this;s.valStages=n.initValStages(),s.state={container:{classes:n.initClasses("container"),styles:n.initStyles("container")},input:{classes:n.initClasses("input"),styles:n.initStyles("container")}},s.validate=function(t){s.valStages.attempted&&(i(t)?o():c())},s.submit=function(t){s.valStages.attempted=!0,s.validate(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/zipCode.directive.htm",replace:!0,scope:{uniqueId:"=",zip:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server","stateData"],r}function config(t){t.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"})}function server(t,e){var r=this;r._get=function(t){return new Promise(function(r,n){e.get(t).then(function(t){r(t.data)},function(t){n(t)})})},r._post=function(r,n,i){return t.info("url",r,"data",n),new Promise(function(t,o){e.post(r,n,i).then(function(e){t(e)},function(t){o(t)})})},r.cityStateLookup=function(t){var e="/api/zipcheck/"+t;return new Promise(function(t,n){r._get(e).then(function(e){t(e)})["catch"](function(t){n(t)})})},r.submitSale=function(e){t.info("submitting sale");var n={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"};return new Promise(function(t,i){r._post("/api/order",e,n).then(function(e){t(e)})["catch"](function(t){i(t)})})}}function stateData(t){var e=this;e.valStages={attempted:!1,successful:!1,failed:!0},e.classes={container:{"has-success":!1,"has-warning":!1,"has-danger":!1},input:{"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1}},e.styles={container:{},input:{}},e.initValStages=function(){return e.valStages},e.initClasses=function(t){return e.classes[t]},e.initStyles=function(t){return e.styles[t]},e.updateState=function(t,r){var n=e.classes[t];return Object.keys(n).forEach(function(t){var e=t.split("-");e.forEach(function(e){e==r?n[t]=!0:n[t]=!1})}),n}}config.$inject=["$routeProvider"];var trumpsNuts=angular.module("trumpsNuts",["ngRoute"]);angular.module("trumpsNuts").controller("landingController",landingController),landingController.$inject=["$scope","$log","$routeParams","$location","dataModel","server"],angular.module("trumpsNuts").factory("dataModel",dataModel),dataModel.$inject=["$log"],angular.module("trumpsNuts").factory("state",state),state.$inject=["$log"],angular.module("trumpsNuts").directive("billingInfo",billingInfo),angular.module("trumpsNuts").directive("ccCSV",ccCSV),angular.module("trumpsNuts").directive("ccCapture",ccCapture),angular.module("trumpsNuts").directive("ccExp",ccExp),angular.module("trumpsNuts").directive("ccName",ccName),angular.module("trumpsNuts").directive("ccNumber",ccNumber),angular.module("trumpsNuts").directive("city",city),angular.module("trumpsNuts").directive("contactInfo",contactInfo),angular.module("trumpsNuts").directive("emailAddress",emailAddress),angular.module("trumpsNuts").directive("firstName",firstName),angular.module("trumpsNuts").directive("lastName",lastName),angular.module("trumpsNuts").directive("progressBar",progressBar),angular.module("trumpsNuts").directive("purchaseBtn",purchaseBtn),angular.module("trumpsNuts").directive("shippingCalculator",shippingCalculator),angular.module("trumpsNuts").directive("shippingInfo",shippingInfo),angular.module("trumpsNuts").directive("state",state),angular.module("trumpsNuts").directive("street",street),angular.module("trumpsNuts").directive("toolBar",toolBar),angular.module("trumpsNuts").directive("yourName",yourName),angular.module("trumpsNuts").directive("zipCode",zipCode),angular.module("trumpsNuts").config(config),angular.module("trumpsNuts").service("server",server),server.$inject=["$log","$http"],angular.module("trumpsNuts").service("stateData",stateData),stateData.$inject=["$log"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvY29udHJvbGxlcnMvbGFuZGluZy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvZGF0YU1vZGVsLmZhY3RvcnkuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9zdGF0ZS5mYWN0b3J5LmpzIiwiYnVuZGxlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0NTVi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sYXN0TmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvcHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3NoaXBwaW5nSW5mby5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc3RhdGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3N0cmVldC5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvdG9vbGJhci5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMveW91ck5hbWUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGUtY29uZmlnLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3RhdGVEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJsYW5kaW5nQ29udHJvbGxlciIsIiRzY29wZSIsIiRsb2ciLCIkcm91dGVQYXJhbXMiLCIkbG9jYXRpb24iLCJkYXRhTW9kZWwiLCJzZXJ2ZXIiLCJ2bSIsInRoaXMiLCJtb2RlbCIsIiR3YXRjaCIsImN1cnJlbnQiLCJvcmlnaW5hbCIsImNvcHlTaGlwcGluZ0FkZHJlc3MiLCJiaWxsaW5nIiwiYWRkcmVzcyIsInppcCIsImNpdHkiLCJzdGF0ZSIsInN0cmVldDEiLCJzdHJlZXQyIiwic3RyZWV0MyIsImJ0blN0YXRlIiwiaW5mbyIsInNoaXBwaW5nIiwic3VibWl0Rm9ybSIsInZhbHVlIiwic3VibWl0U2FsZSIsInRoZW4iLCJyZXNwb25zZSIsImVycm9yIiwiX3JlYWQiLCJwcm9wIiwiX3VwZGF0ZSIsInJlYWRQcm9wIiwidXBkYXRlUHJvcCIsImRhdGFNb2RlbE9iamVjdCIsIm5hbWUiLCJmaXJzdCIsImxhc3QiLCJlbWFpbCIsInJlcXVpcm5tZW50cyIsInBheW1lbnQiLCJudW1iZXIiLCJleHAiLCJjc3YiLCJzdGF0ZU9iamVjdCIsImFsbEVsZW1lbnRzQ29tcGxldGVkIiwiZmllbGRzIiwiaW5wdXQiLCJhZGRyZXNzZWQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsImNsYXNzZXMiLCJmb3JtLWdyb3VwIiwiaGFzLXN1Y2Nlc3MiLCJoYXMtd2FybmluZyIsImhhcy1kYW5nZXIiLCJmb3JtLWNvbnRyb2wtbGFiZWwiLCJmb3JtLWNvbnRyb2wiLCJmb3JtLWNvbnRyb2wtc3VjY2VzcyIsImZvcm0tY29udHJvbC13YXJuaW5nIiwiZm9ybS1jb250cm9sLWRhbmdlciIsImZvcm0tY29udHJvbC1mZWVkYmFjayIsImZvcm0tdGV4dCIsInRleHQtbXV0ZWQiLCJzdHlsZXMiLCJjaGFuZ2VTdGF0ZSIsImlucHV0U3VjY2VzcyIsImlucHV0RmFpbGVkIiwiYmlsbGluZ0luZm8iLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsImJpbGxpbmdJbmZvQ29udHJvbGxlciIsInRvZ2dsZUFkZHJlc3NDb3B5IiwiY29weVNoaXBwaW5nIiwiJGluamVjdCIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJyZXBsYWNlIiwibGluayIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwiY2NDU1YiLCJjY0NTVkNvbnRyb2xsZXIiLCJjY0NhcHR1cmUiLCJjY0NhcHR1cmVDb250cm9sbGVyIiwiY2NFeHAiLCJjY0V4cENvbnRyb2xsZXIiLCJjY05hbWUiLCJjY05hbWVDb250cm9sbGVyIiwiY2NOdW1iZXIiLCJjY051bWJlckNvbnRyb2xsZXIiLCJjaXR5Q29udHJvbGxlciIsImNpdHlOYW1lIiwiY29udGFjdEluZm8iLCJjb250YWN0SW5mb0NvbnRyb2xsZXIiLCJlbWFpbEFkZHJlc3MiLCJlbWFpbEFkZHJlc3NDb250cm9sbGVyIiwiZmlyc3ROYW1lIiwiZmlyc3ROYW1lQ29udHJvbGxlciIsInN0YXRlRGF0YSIsImNvbnRhaW5lciIsImluaXRDbGFzc2VzIiwiaW5pdFN0eWxlcyIsInZhbGlkYXRlIiwiZmllbGQiLCJsYXN0TmFtZSIsImxhc3ROYW1lQ29udHJvbGxlciIsInByb2dyZXNzQmFyIiwicHJvZ3Jlc3NCYXJDb250cm9sbGVyIiwicHVyY2hhc2VCdG4iLCJwdXJjaGFzZUJ0bkNvbnRyb2xsZXIiLCJzaGlwcGluZ0NhbGN1bGF0b3IiLCJzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyIiwic2hpcHBpbmdJbmZvIiwic2hpcHBpbmdJbmZvQ29udHJvbGxlciIsInN0YXRlQ29udHJvbGxlciIsInN0YXRlSWQiLCJzdHJlZXQiLCJzdHJlZXRDb250cm9sbGVyIiwic3RyZWV0QWRkcmVzcyIsInRvb2xCYXIiLCJUb29sQmFyQ29udHJvbGxlciIsInlvdXJOYW1lIiwieW91ck5hbWVDb250cm9sbGVyIiwiemlwQ29kZSIsInppcENvZGVDb250cm9sbGVyIiwibG9uZ0Vub3VnaCIsInppcGNvZGUiLCJmbGFnIiwibGVuZ3RoIiwic3VjY2Vzc2lmeUlucHV0IiwidXBkYXRlU3RhdGUiLCJmYWlsaWZ5SW5wdXQiLCJ2YWxTdGFnZXMiLCJpbml0VmFsU3RhZ2VzIiwiYXR0ZW1wdGVkIiwic3VibWl0IiwidW5pcXVlSWQiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCIkaHR0cCIsImJhY2tlbmQiLCJfZ2V0IiwidXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJnZXQiLCJkYXRhIiwiX3Bvc3QiLCJwb3N0IiwiY2l0eVN0YXRlTG9va3VwIiwib3JkZXJGb3JtIiwiQ29udGVudC1UeXBlIiwic3VjY2Vzc2Z1bCIsImZhaWxlZCIsInNlY3Rpb24iLCJyZXR1cm5PYmplY3QiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInJlc3VsdEFycmF5Iiwic3BsaXQiLCJ3b3JkIiwidHJ1bXBzTnV0cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5Iiwic2VydmljZSJdLCJtYXBwaW5ncyI6IkFBT0EsUUFBQUEsbUJBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0EsR0FBQUMsR0FBQUMsSUFDQUQsR0FBQUUsTUFBQUosRUFHQUosRUFBQVMsT0FBQSxnQ0FBQSxTQUFBQyxFQUFBQyxHQUNBTCxFQUFBRSxNQUFBSSxzQkFBQU4sRUFBQUUsTUFBQUssUUFBQUMsUUFBQUMsSUFBQUwsS0FFQVYsRUFBQVMsT0FBQSxp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b0JDRkF3RCxRQUNBQyxPQUFBLGNBQ0EvRixVQUFBLGVBQUF3QyxjQ0ZBc0QsUUFDQUMsT0FBQSxjQUNBL0YsVUFBQSxRQUFBOUQsT0NGQTRKLFFBQ0FDLE9BQUEsY0FDQS9GLFVBQUEsU0FBQTRDLFFDRkFrRCxRQUNBQyxPQUFBLGNBQ0EvRixVQUFBLFVBQUErQyxTQ0ZBK0MsUUFDQUMsT0FBQSxjQUNBL0YsVUFBQSxXQUFBaUQsVUNGQTZDLFFBQ0FDLE9BQUEsY0FDQS9GLFVBQUEsVUFBQW1ELFNDVEEyQyxRQUNBQyxPQUFBLGNBQ0E5QixPQUFBQSxRQ0ZBNkIsUUFDQUMsT0FBQSxjQUNBRSxRQUFBLFNBQUEzSyxRQUVBQSxPQUFBeUUsU0FBQSxPQUFBLFNDSkErRixRQUNBQyxPQUFBLGNBQ0FFLFFBQUEsWUFBQXZFLFdBRUFBLFVBQUEzQixTQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnZGF0YU1vZGVsJywgJ3NlcnZlciddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJHJvdXRlUGFyYW1zLCAkbG9jYXRpb24sIGRhdGFNb2RlbCwgc2VydmVyKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2bS5tb2RlbCA9IGRhdGFNb2RlbDtcblxuXHQvL3dhdGNoZXJzXG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuemlwJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MuemlwID0gY3VycmVudDtcblx0fSk7XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdGF0ZScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0YXRlID0gY3VycmVudDtcblx0fSk7XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDEgPSBjdXJyZW50O1xuXHR9KTtcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MycsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDMgPSBjdXJyZW50O1xuXHR9KTtcdFxuXG5cdC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdHZtLmNvcHlTaGlwcGluZ0FkZHJlc3MgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXHRcdCRsb2cuaW5mbygnY29weWluZycsIHZtLm1vZGVsLnNoaXBwaW5nKTtcblx0XHRpZihidG5TdGF0ZSkgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzID0gdm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcztcblx0XHRlbHNlIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IGRhdGFNb2RlbC5iaWxsaW5nLmFkZHJlc3M7XG5cdH1cblxuXHR2bS5zdWJtaXRGb3JtID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2YWx1ZSk7XG5cblx0XHRzZXJ2ZXIuc3VibWl0U2FsZSh2bS5tb2RlbCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0JGxvZy5pbmZvKGVycm9yKTtcblx0XHR9KTtcblx0fVxufVx0IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdkYXRhTW9kZWwnLCBkYXRhTW9kZWwpO1xuXG5kYXRhTW9kZWwuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGRhdGFNb2RlbCgkbG9nKSB7XG5cblx0dmFyIGRhdGFNb2RlbE9iamVjdCA9IHtcblx0XHRuYW1lOiB7XG5cdFx0XHRmaXJzdDogJycsXG5cdFx0XHRsYXN0OiAnJ1xuXHRcdH0sXG5cdFx0ZW1haWw6ICcnLFxuXHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6IHRydWUsXG5cdFx0c2hpcHBpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSwgXG5cdFx0XHRyZXF1aXJubWVudHM6IHt9XG5cdFx0fSxcblx0XHRiaWxsaW5nOiB7XG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6ICcnLFxuXHRcdFx0XHRzdHJlZXQyOiAnJyxcblx0XHRcdFx0c3RyZWV0MzogJycsXG5cdFx0XHRcdGNpdHk6ICcnLFxuXHRcdFx0XHRzdGF0ZTogJycsXG5cdFx0XHRcdHppcDogJydcblx0XHRcdH0sXG5cdFx0XHRwYXltZW50OiB7XG5cdFx0XHRcdG51bWJlcjogWycnLCAnJywgJycsICcnXSxcblx0XHRcdFx0ZXhwOiBbJycsICcnXSxcblx0XHRcdFx0Y3N2OiAnJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3JlYWQ6X3JlYWQsXG5cdFx0X3VwZGF0ZTpfdXBkYXRlLFxuXHRcdHJlYWRQcm9wOnJlYWRQcm9wLFxuXHRcdHVwZGF0ZVByb3A6dXBkYXRlUHJvcFxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9yZWFkKHByb3ApIHt9XG5cdGZ1bmN0aW9uIF91cGRhdGUocHJvcCwgdmFsdWUpIHt9XG5cdGZ1bmN0aW9uIHJlYWRQcm9wKHByb3ApIHt9XG5cdGZ1bmN0aW9uIHVwZGF0ZVByb3AocHJvcCwgdmFsdWUpIHt9XG5cblx0cmV0dXJuIGRhdGFNb2RlbE9iamVjdDtcbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ3N0YXRlJywgc3RhdGUpO1xuXG5zdGF0ZS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGUoJGxvZykge1xuXG5cdHZhciBzdGF0ZU9iamVjdCA9IHtcblx0XHRtb2RlbDoge1xuXHRcdFx0YWxsRWxlbWVudHNDb21wbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0ZmllbGRzOiBbXSxcblx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdHByb3A6IHtcblx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRyZXF1aXJubWVudHM6IFtdXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0YXRlOiB7XG5cdFx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0XHRmYWlsdXJlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHQnZm9ybS1ncm91cCc6IGZhbHNlLFxuXHRcdFx0J2hhcy1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnaGFzLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdoYXMtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWxhYmVsJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZmVlZGJhY2snOiBmYWxzZSxcblx0XHRcdCdmb3JtLXRleHQnOiBmYWxzZSxcblx0XHRcdCd0ZXh0LW11dGVkJzogZmFsc2Vcblx0XHR9LFxuXHRcdHN0eWxlczoge1xuXG5cdFx0fSxcblx0XHRjaGFuZ2VTdGF0ZToge1xuXHRcdFx0aW5wdXRTdWNjZXNzOiAnJyxcblx0XHRcdGlucHV0RmFpbGVkOiAnJ1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0U3VjY2VzcygpIHt9XG5cdGZ1bmN0aW9uIGlucHV0RmFpbGVkKCkge31cblxuXHRyZXR1cm4gc3RhdGVPYmplY3Q7XG59IiwiLy8gTU9EVUxFXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCJdO1xudmFyIHRydW1wc051dHMgPSBhbmd1bGFyLm1vZHVsZSgndHJ1bXBzTnV0cycsIFsnbmdSb3V0ZSddKTtcblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ2xhbmRpbmdDb250cm9sbGVyJywgbGFuZGluZ0NvbnRyb2xsZXIpO1xuXG5sYW5kaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGxvY2F0aW9uJywgJ2RhdGFNb2RlbCcsICdzZXJ2ZXInXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCBkYXRhTW9kZWwsIHNlcnZlcikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0dm0ubW9kZWwgPSBkYXRhTW9kZWw7XG5cblx0Ly93YXRjaGVyc1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnppcCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnppcCA9IGN1cnJlbnQ7XG5cdH0pO1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLmNpdHknLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5jaXR5ID0gY3VycmVudDtcblx0fSk7XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDEnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQxID0gY3VycmVudDtcblx0fSk7XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MicsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDIgPSBjdXJyZW50O1xuXHR9KTtcdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcblxuXHQvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHR2bS5jb3B5U2hpcHBpbmdBZGRyZXNzID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblx0XHQkbG9nLmluZm8oJ2NvcHlpbmcnLCB2bS5tb2RlbC5zaGlwcGluZyk7XG5cdFx0aWYoYnRuU3RhdGUpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IHZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3M7XG5cdFx0ZWxzZSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSBkYXRhTW9kZWwuYmlsbGluZy5hZGRyZXNzO1xuXHR9XG5cblx0dm0uc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nJywgdmFsdWUpO1xuXG5cdFx0c2VydmVyLnN1Ym1pdFNhbGUodm0ubW9kZWwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0JGxvZy5pbmZvKHJlc3BvbnNlKTtcblxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdCRsb2cuaW5mbyhlcnJvcik7XG5cdFx0fSk7XG5cdH1cbn1cdFxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdkYXRhTW9kZWwnLCBkYXRhTW9kZWwpO1xuXG5kYXRhTW9kZWwuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGRhdGFNb2RlbCgkbG9nKSB7XG5cblx0dmFyIGRhdGFNb2RlbE9iamVjdCA9IHtcblx0XHRuYW1lOiB7XG5cdFx0XHRmaXJzdDogJycsXG5cdFx0XHRsYXN0OiAnJ1xuXHRcdH0sXG5cdFx0ZW1haWw6ICcnLFxuXHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6IHRydWUsXG5cdFx0c2hpcHBpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSwgXG5cdFx0XHRyZXF1aXJubWVudHM6IHt9XG5cdFx0fSxcblx0XHRiaWxsaW5nOiB7XG5cdFx0XHRhZGRyZXNzOiB7XG5cdFx0XHRcdHN0cmVldDE6ICcnLFxuXHRcdFx0XHRzdHJlZXQyOiAnJyxcblx0XHRcdFx0c3RyZWV0MzogJycsXG5cdFx0XHRcdGNpdHk6ICcnLFxuXHRcdFx0XHRzdGF0ZTogJycsXG5cdFx0XHRcdHppcDogJydcblx0XHRcdH0sXG5cdFx0XHRwYXltZW50OiB7XG5cdFx0XHRcdG51bWJlcjogWycnLCAnJywgJycsICcnXSxcblx0XHRcdFx0ZXhwOiBbJycsICcnXSxcblx0XHRcdFx0Y3N2OiAnJ1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0X3JlYWQ6X3JlYWQsXG5cdFx0X3VwZGF0ZTpfdXBkYXRlLFxuXHRcdHJlYWRQcm9wOnJlYWRQcm9wLFxuXHRcdHVwZGF0ZVByb3A6dXBkYXRlUHJvcFxuXHR9O1xuXG5cdGZ1bmN0aW9uIF9yZWFkKHByb3ApIHt9XG5cdGZ1bmN0aW9uIF91cGRhdGUocHJvcCwgdmFsdWUpIHt9XG5cdGZ1bmN0aW9uIHJlYWRQcm9wKHByb3ApIHt9XG5cdGZ1bmN0aW9uIHVwZGF0ZVByb3AocHJvcCwgdmFsdWUpIHt9XG5cblx0cmV0dXJuIGRhdGFNb2RlbE9iamVjdDtcbn1cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuZmFjdG9yeSgnc3RhdGUnLCBzdGF0ZSk7XG5cbnN0YXRlLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgkbG9nKSB7XG5cblx0dmFyIHN0YXRlT2JqZWN0ID0ge1xuXHRcdG1vZGVsOiB7XG5cdFx0XHRhbGxFbGVtZW50c0NvbXBsZXRlZDogZmFsc2UsXG5cdFx0XHRmaWVsZHM6IFtdLFxuXHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0cHJvcDoge1xuXHRcdFx0XHRcdG5hbWU6ICcnLFxuXHRcdFx0XHRcdHJlcXVpcm5tZW50czogW11cblx0XHRcdFx0fSxcblx0XHRcdFx0c3RhdGU6IHtcblx0XHRcdFx0XHRhZGRyZXNzZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGZhaWx1cmU6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdCdmb3JtLWdyb3VwJzogZmFsc2UsXG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtbGFiZWwnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1mZWVkYmFjayc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tdGV4dCc6IGZhbHNlLFxuXHRcdFx0J3RleHQtbXV0ZWQnOiBmYWxzZVxuXHRcdH0sXG5cdFx0c3R5bGVzOiB7XG5cblx0XHR9LFxuXHRcdGNoYW5nZVN0YXRlOiB7XG5cdFx0XHRpbnB1dFN1Y2Nlc3M6ICcnLFxuXHRcdFx0aW5wdXRGYWlsZWQ6ICcnXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRTdWNjZXNzKCkge31cblx0ZnVuY3Rpb24gaW5wdXRGYWlsZWQoKSB7fVxuXG5cdHJldHVybiBzdGF0ZU9iamVjdDtcbn1cbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdiaWxsaW5nSW5mbycsIGJpbGxpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiaWxsaW5nSW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHBheW1lbnQ6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBiaWxsaW5nSW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udG9nZ2xlQWRkcmVzc0NvcHkgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXG5cdCAgICBcdHZtLmNvcHlTaGlwcGluZygpKGJ0blN0YXRlKTtcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ1NWJywgY2NDU1YpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ1NWKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDU1ZDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDU1ZDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDU1ZDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ2FwdHVyZScsIGNjQ2FwdHVyZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDYXB0dXJlKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ2FwdHVyZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NhcHR1cmVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDYXB0dXJlQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0V4cCcsIGNjRXhwKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0V4cCgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjRXhwLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjRXhwQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjRXhwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjRXhwQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY05hbWUnLCBjY05hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY05hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NOdW1iZXInLCBjY051bWJlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOdW1iZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY051bWJlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY051bWJlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY051bWJlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2l0eScsIGNpdHkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNpdHkoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jaXR5LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGNpdHlOYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNpdHlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2l0eUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjaXR5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjb250YWN0SW5mbycsIGNvbnRhY3RJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0SW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9Jyxcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbnRhY3RJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhY3RJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEFkZHJlc3MnLCBlbWFpbEFkZHJlc3MpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVtYWlsQWRkcmVzcygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRlbWFpbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEFkZHJlc3NDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxBZGRyZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZmlyc3ROYW1lJywgZmlyc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJzdE5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9maXJzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmlyc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZmlyc3ROYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGZpcnN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc3RhdGVEYXRhJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmlyc3ROYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHN0YXRlRGF0YSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy8kbG9nLmluZm8oc3RhdGUpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvL2lmKHZhbHVlLmxlbmd0aCA+IDEpIHN0YXRlLmNoYW5nZVN0YXRlLmlucHV0U3VjY2VzcygpXG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdsYXN0TmFtZScsIGxhc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYXN0TmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xhc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxhc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGFzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGFzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGFzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Byb2dyZXNzQmFyJywgcHJvZ3Jlc3NCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2dyZXNzQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHJvZ3Jlc3NCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3B1cmNoYXNlQnRuJywgcHVyY2hhc2VCdG4pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHB1cmNoYXNlQnRuKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHVyY2hhc2VCdG4uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3VibWl0Rm9ybTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdDYWxjdWxhdG9yJywgc2hpcHBpbmdDYWxjdWxhdG9yKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3IoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nSW5mbycsIHNoaXBwaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHJlcXVpcm5tZW50czogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAkbG9nLmluZm8odm0uYWRkcmVzcyk7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdGF0ZScsIHN0YXRlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RyZWV0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0cmVldEFkZHJlc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RyZWV0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0cmVldENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdHJlZXRDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgneW91ck5hbWUnLCB5b3VyTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24geW91ck5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dW5pcXVlSWQ6ICc9Jyxcblx0XHRcdHppcDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB6aXBDb2RlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHppcENvZGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlcicsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB6aXBDb2RlQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHNlcnZlciwgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS52YWxTdGFnZXMgPSBzdGF0ZURhdGEuaW5pdFZhbFN0YWdlcygpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbG9uZ0Vub3VnaCh6aXBjb2RlKSB7XG5cdCAgICBcdHZhciBmbGFnID0gZmFsc2U7XG5cblx0ICAgIFx0aWYodHlwZW9mIHppcGNvZGUgIT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBcdFx0aWYoemlwY29kZS5sZW5ndGggPj0gNSkgZmxhZyA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIGZsYWc7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1Y2Nlc3NpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdzdWNjZXNzJywgdm0uc3RhdGUuY29udGFpbmVyKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2NvbnRhaW5lcicsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdpbnB1dCcsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmYWlsaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZmFpbGVkJyk7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaXR5U3RhdGVMb29rdXAoemlwY29kZSkge1xuXHRcdCAgICBzZXJ2ZXIuY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdCAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlcnJvcik7XG5cdFx0ICAgIH0pO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdC8vb25seSB2YWxpZGF0ZSBpZiB0aGV5J3ZlIHRyaWVkIGF0IGxlYXN0IG9uY2Vcblx0ICAgIFx0aWYodm0udmFsU3RhZ2VzLmF0dGVtcHRlZCkge1xuXG5cdCAgICBcdFx0Ly9jaGVjayBpZiBpdCdzIGxvbmcgZW5vdWdoXG5cdCAgICBcdFx0aWYobG9uZ0Vub3VnaCh6aXBjb2RlKSkgc3VjY2Vzc2lmeUlucHV0KCk7XG5cdCAgICBcdFx0ZWxzZSBmYWlsaWZ5SW5wdXQoKTtcblxuXHQgICAgXHR9XG5cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0ID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdHZtLnZhbGlkYXRlKHppcGNvZGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbn1cblxuXG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzZXJ2ZXInLCBzZXJ2ZXIpO1xuXG5zZXJ2ZXIuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlcnZlcigkbG9nLCAkaHR0cCkge1xuXHR2YXIgYmFja2VuZCA9IHRoaXM7XG5cblx0Ly9nZXRzIGZyb20gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9nZXQgPSBmdW5jdGlvbih1cmwpIHtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcG9zdHMgdG8gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcblxuXHRcdCRsb2cuaW5mbygndXJsJywgdXJsLCAnZGF0YScsIGRhdGEpO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLnBvc3QodXJsLCBkYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSwgZnVuY3Rpb24gdGhlRXJyb3JzKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9yZWNlaXZlcyBhIHppcGNvZGUsIHJldHVybnMgYSBjaXR5IGFuZCBzdGF0ZVxuXHRiYWNrZW5kLmNpdHlTdGF0ZUxvb2t1cCA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHRcdC8vYnVpbGQgdGhlIG5ldyB1cmxcblx0XHR2YXIgdXJsID0gJy9hcGkvemlwY2hlY2svJyArIHppcGNvZGU7XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhbiBlcnJvciByZXNwb25zZVxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGJhY2tlbmQuc3VibWl0U2FsZSA9IGZ1bmN0aW9uKG9yZGVyRm9ybSkge1xuXG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nIHNhbGUnKTtcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTg7J1xuXHRcdH07XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fcG9zdCgnL2FwaS9vcmRlcicsIG9yZGVyRm9ybSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG59XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLnNlcnZpY2UoJ3N0YXRlRGF0YScsIHN0YXRlRGF0YSk7XG5cbnN0YXRlRGF0YS4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RhdGVEYXRhKCRsb2cpIHtcblx0dmFyIHN0YXRlID0gdGhpcztcblxuXHRzdGF0ZS52YWxTdGFnZXMgPSB7XG4gICAgXHRhdHRlbXB0ZWQ6IGZhbHNlLFxuICAgIFx0c3VjY2Vzc2Z1bDogZmFsc2UsXG4gICAgXHRmYWlsZWQ6IHRydWVcblx0fTtcblxuXHRzdGF0ZS5jbGFzc2VzID0ge1xuXHRcdGNvbnRhaW5lcjoge1xuXHRcdFx0J2hhcy1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnaGFzLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdoYXMtZGFuZ2VyJzogZmFsc2UsXHRcdFx0XG5cdFx0fSxcblx0XHRpbnB1dDoge1xuXHRcdFx0J2Zvcm0tY29udHJvbC1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZGFuZ2VyJzogZmFsc2Vcblx0XHR9XG5cdH07XG5cblx0c3RhdGUuc3R5bGVzID0ge1xuXHRcdGNvbnRhaW5lcjoge30sXG5cdFx0aW5wdXQ6IHt9XG5cdH07XG5cblx0c3RhdGUuaW5pdFZhbFN0YWdlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzdGF0ZS52YWxTdGFnZXM7XG5cdH1cblxuXHRzdGF0ZS5pbml0Q2xhc3NlcyA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRyZXR1cm4gc3RhdGUuY2xhc3Nlc1tzZWN0aW9uXTtcblx0fVxuXG5cdHN0YXRlLmluaXRTdHlsZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLnN0eWxlc1tzZWN0aW9uXTtcblx0fVxuXG5cdHN0YXRlLnVwZGF0ZVN0YXRlID0gZnVuY3Rpb24oc2VjdGlvbiwgdmFsdWUpIHtcblx0XHR2YXIgcmV0dXJuT2JqZWN0ID0gc3RhdGUuY2xhc3Nlc1tzZWN0aW9uXTtcblxuXHRcdE9iamVjdC5rZXlzKHJldHVybk9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdHZhciByZXN1bHRBcnJheSA9IGtleS5zcGxpdCgnLScpO1xuXG5cdFx0XHRyZXN1bHRBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHdvcmQpIHtcblx0XHRcdFx0aWYod29yZCA9PSB2YWx1ZSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0XHRlbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly9pZihrZXkuY29udGFpbnModmFsdWUpKSByZXR1cm5PYmplY3Rba2V5XSA9IHRydWU7XG5cdFx0XHQvL2Vsc2UgcmV0dXJuT2JqZWN0W2tleV0gPSBmYWxzZTtcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXR1cm5PYmplY3Q7XG5cdH1cblxufVx0IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2JpbGxpbmdJbmZvJywgYmlsbGluZ0luZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGJpbGxpbmdJbmZvKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHBheW1lbnQ6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBiaWxsaW5nSW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udG9nZ2xlQWRkcmVzc0NvcHkgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXG5cdCAgICBcdHZtLmNvcHlTaGlwcGluZygpKGJ0blN0YXRlKTtcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0NTVicsIGNjQ1NWKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0NTVigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0NTVi5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0NTVkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NTVkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0NTVkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ2FwdHVyZScsIGNjQ2FwdHVyZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDYXB0dXJlKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjQ2FwdHVyZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0NhcHR1cmVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDYXB0dXJlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjQ2FwdHVyZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjRXhwJywgY2NFeHApO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjRXhwKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjRXhwLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjRXhwQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjRXhwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjRXhwQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NOYW1lJywgY2NOYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY05hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NOYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY05hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NOdW1iZXInLCBjY051bWJlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOdW1iZXIoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NOdW1iZXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NOdW1iZXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOdW1iZXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NOdW1iZXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjaXR5JywgY2l0eSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2l0eSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jaXR5LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGNpdHlOYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNpdHlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2l0eUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjaXR5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY29udGFjdEluZm8nLCBjb250YWN0SW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29udGFjdEluZm8oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY29udGFjdEluZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bmFtZTogJz0nLFxuXHRcdFx0ZW1haWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY29udGFjdEluZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY29udGFjdEluZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY29udGFjdEluZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEFkZHJlc3MnLCBlbWFpbEFkZHJlc3MpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVtYWlsQWRkcmVzcygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9lbWFpbEFkZHJlc3MuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0ZW1haWw6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZW1haWxBZGRyZXNzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBlbWFpbEFkZHJlc3NDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdmaXJzdE5hbWUnLCBmaXJzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpcnN0TmFtZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9maXJzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmlyc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZmlyc3ROYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGZpcnN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc3RhdGVEYXRhJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmlyc3ROYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHN0YXRlRGF0YSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy8kbG9nLmluZm8oc3RhdGUpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvL2lmKHZhbHVlLmxlbmd0aCA+IDEpIHN0YXRlLmNoYW5nZVN0YXRlLmlucHV0U3VjY2VzcygpXG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnbGFzdE5hbWUnLCBsYXN0TmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFzdE5hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbGFzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bGFzdDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsYXN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBsYXN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBsYXN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Byb2dyZXNzQmFyJywgcHJvZ3Jlc3NCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2dyZXNzQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHByb2dyZXNzQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHByb2dyZXNzQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHByb2dyZXNzQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgncHVyY2hhc2VCdG4nLCBwdXJjaGFzZUJ0bik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHVyY2hhc2VCdG4oKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHVyY2hhc2VCdG4uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3VibWl0Rm9ybTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nQ2FsY3VsYXRvcicsIHNoaXBwaW5nQ2FsY3VsYXRvcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdDYWxjdWxhdG9yKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nQ2FsY3VsYXRvci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nSW5mbycsIHNoaXBwaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdJbmZvKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NoaXBwaW5nSW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRhZGRyZXNzOiAnPScsXG5cdFx0XHRyZXF1aXJubWVudHM6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0luZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgJGxvZy5pbmZvKHZtLmFkZHJlc3MpO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0YXRlJywgc3RhdGUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdHJlZXQnLCBzdHJlZXQpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0cmVldCgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zdHJlZXQuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3RyZWV0QWRkcmVzczogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzdHJlZXRDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RyZWV0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHN0cmVldENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3Rvb2xCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogVG9vbEJhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBUb29sQmFyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIFRvb2xCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd5b3VyTmFtZScsIHlvdXJOYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB5b3VyTmFtZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnemlwQ29kZScsIHppcENvZGUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHppcENvZGUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvemlwQ29kZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHR1bmlxdWVJZDogJz0nLFxuXHRcdFx0emlwOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHppcENvZGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgemlwQ29kZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc2VydmVyJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHppcENvZGVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgc2VydmVyLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cdCAgICBcblx0ICAgIC8vZGVmaW5lIHZpZXdtb2RlbCB2YXJpYWJsZXNcblx0ICAgIHZtLnZhbFN0YWdlcyA9IHN0YXRlRGF0YS5pbml0VmFsU3RhZ2VzKCk7XG5cblx0ICAgIHZtLnN0YXRlID0ge1xuXHRcdCAgICBjb250YWluZXI6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2NvbnRhaW5lcicpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXHQgICAgXHRcdFxuXHQgICAgXHR9LCBcblx0ICAgIFx0aW5wdXQ6IHtcblx0XHQgICAgXHRjbGFzc2VzOiBzdGF0ZURhdGEuaW5pdENsYXNzZXMoJ2lucHV0JyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcblx0ICAgIFx0fVxuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBsb25nRW5vdWdoKHppcGNvZGUpIHtcblx0ICAgIFx0dmFyIGZsYWcgPSBmYWxzZTtcblxuXHQgICAgXHRpZih0eXBlb2YgemlwY29kZSAhPSAndW5kZWZpbmVkJylcblx0ICAgIFx0XHRpZih6aXBjb2RlLmxlbmd0aCA+PSA1KSBmbGFnID0gdHJ1ZTtcblxuXHQgICAgXHRyZXR1cm4gZmxhZztcblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gc3VjY2Vzc2lmeUlucHV0KCkgeyBcblx0ICAgIFx0Ly8kbG9nLmluZm8oJ3N1Y2Nlc3MnLCB2bS5zdGF0ZS5jb250YWluZXIpO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3NlcyA9IHN0YXRlRGF0YS51cGRhdGVTdGF0ZSgnY29udGFpbmVyJywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSBmYWxzZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2lucHV0JywgJ3N1Y2Nlc3MnKTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtc3VjY2VzcyddID0gdHJ1ZTtcblx0ICAgIFx0Ly92bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGZhaWxpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdmYWlsZWQnKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy13YXJuaW5nJ10gPSB0cnVlO1xuXHQgICAgXHR2bS5zdGF0ZS5jb250YWluZXIuY2xhc3Nlc1snaGFzLWRhbmdlciddID0gZmFsc2U7XG5cblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzWydmb3JtLWNvbnRyb2wtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLWRhbmdlciddID0gZmFsc2U7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIGNpdHlTdGF0ZUxvb2t1cCh6aXBjb2RlKSB7XG5cdFx0ICAgIHNlcnZlci5jaXR5U3RhdGVMb29rdXAoemlwY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgcmVzcG9uc2UnLCByZXNwb25zZSk7XG5cdFx0ICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0ICAgIFx0JGxvZy5pbmZvKCdnb3QgdGhpcyBlcnJvcicsIGVycm9yKTtcblx0XHQgICAgfSk7XHQgICAgXHRcblx0ICAgIH1cblxuXHQgICAgdm0udmFsaWRhdGUgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0Ly9vbmx5IHZhbGlkYXRlIGlmIHRoZXkndmUgdHJpZWQgYXQgbGVhc3Qgb25jZVxuXHQgICAgXHRpZih2bS52YWxTdGFnZXMuYXR0ZW1wdGVkKSB7XG5cblx0ICAgIFx0XHQvL2NoZWNrIGlmIGl0J3MgbG9uZyBlbm91Z2hcblx0ICAgIFx0XHRpZihsb25nRW5vdWdoKHppcGNvZGUpKSBzdWNjZXNzaWZ5SW5wdXQoKTtcblx0ICAgIFx0XHRlbHNlIGZhaWxpZnlJbnB1dCgpO1xuXG5cdCAgICBcdH1cblxuXHQgICAgfVxuXG5cdCAgICB2bS5zdWJtaXQgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0ICAgIFx0dm0udmFsU3RhZ2VzLmF0dGVtcHRlZCA9IHRydWU7XG5cblx0ICAgIFx0dm0udmFsaWRhdGUoemlwY29kZSk7XG5cdCAgICB9XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KTtcbn1cblxuXG5cbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc2VydmVyJywgc2VydmVyKTtcblxuc2VydmVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZXJ2ZXIoJGxvZywgJGh0dHApIHtcblx0dmFyIGJhY2tlbmQgPSB0aGlzO1xuXG5cdC8vZ2V0cyBmcm9tIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fZ2V0ID0gZnVuY3Rpb24odXJsKSB7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3Bvc3RzIHRvIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fcG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cblx0XHQkbG9nLmluZm8oJ3VybCcsIHVybCwgJ2RhdGEnLCBkYXRhKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcmVjZWl2ZXMgYSB6aXBjb2RlLCByZXR1cm5zIGEgY2l0eSBhbmQgc3RhdGVcblx0YmFja2VuZC5jaXR5U3RhdGVMb29rdXAgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0XHQvL2J1aWxkIHRoZSBuZXcgdXJsXG5cdFx0dmFyIHVybCA9ICcvYXBpL3ppcGNoZWNrLycgKyB6aXBjb2RlO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnN1Ym1pdFNhbGUgPSBmdW5jdGlvbihvcmRlckZvcm0pIHtcblxuXHRcdCRsb2cuaW5mbygnc3VibWl0dGluZyBzYWxlJyk7XG5cblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciBjb25maWcgPSB7XG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Oydcblx0XHR9O1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX3Bvc3QoJy9hcGkvb3JkZXInLCBvcmRlckZvcm0sIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc3RhdGVEYXRhJywgc3RhdGVEYXRhKTtcblxuc3RhdGVEYXRhLiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZURhdGEoJGxvZykge1xuXHR2YXIgc3RhdGUgPSB0aGlzO1xuXG5cdHN0YXRlLnZhbFN0YWdlcyA9IHtcbiAgICBcdGF0dGVtcHRlZDogZmFsc2UsXG4gICAgXHRzdWNjZXNzZnVsOiBmYWxzZSxcbiAgICBcdGZhaWxlZDogdHJ1ZVxuXHR9O1xuXG5cdHN0YXRlLmNsYXNzZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7XG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcdFx0XHRcblx0XHR9LFxuXHRcdGlucHV0OiB7XG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZVxuXHRcdH1cblx0fTtcblxuXHRzdGF0ZS5zdHlsZXMgPSB7XG5cdFx0Y29udGFpbmVyOiB7fSxcblx0XHRpbnB1dDoge31cblx0fTtcblxuXHRzdGF0ZS5pbml0VmFsU3RhZ2VzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHN0YXRlLnZhbFN0YWdlcztcblx0fVxuXG5cdHN0YXRlLmluaXRDbGFzc2VzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUuaW5pdFN0eWxlcyA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRyZXR1cm4gc3RhdGUuc3R5bGVzW3NlY3Rpb25dO1xuXHR9XG5cblx0c3RhdGUudXBkYXRlU3RhdGUgPSBmdW5jdGlvbihzZWN0aW9uLCB2YWx1ZSkge1xuXHRcdHZhciByZXR1cm5PYmplY3QgPSBzdGF0ZS5jbGFzc2VzW3NlY3Rpb25dO1xuXG5cdFx0T2JqZWN0LmtleXMocmV0dXJuT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0dmFyIHJlc3VsdEFycmF5ID0ga2V5LnNwbGl0KCctJyk7XG5cblx0XHRcdHJlc3VsdEFycmF5LmZvckVhY2goZnVuY3Rpb24od29yZCkge1xuXHRcdFx0XHRpZih3b3JkID09IHZhbHVlKSByZXR1cm5PYmplY3Rba2V5XSA9IHRydWU7XG5cdFx0XHRcdGVsc2UgcmV0dXJuT2JqZWN0W2tleV0gPSBmYWxzZTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL2lmKGtleS5jb250YWlucyh2YWx1ZSkpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdC8vZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJldHVybk9iamVjdDtcblx0fVxuXG59XHQiLCIvLyBNT0RVTEVcbnZhciB0cnVtcHNOdXRzID0gYW5ndWxhci5tb2R1bGUoJ3RydW1wc051dHMnLCBbJ25nUm91dGUnXSk7XG5cbiJdfQ==

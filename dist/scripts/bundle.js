function dataModel(t){function e(t){}function r(t,e){}function n(t){}function o(t,e){}var i={name:{first:"",last:""},email:"",copyShippingAddress:!0,shipping:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},requirnments:{}},billing:{address:{street1:"",street2:"",street3:"",city:"",state:"",zip:""},payment:{number:["","","",""],exp:["",""],csv:""}},_read:e,_update:r,readProp:n,updateProp:o};return i}function stateFactory(t){var e={model:{allElementsCompleted:!1,fields:[],input:{prop:{name:"",requirnments:[]},state:{addressed:!1,success:!1,failure:!1}}},classes:{"form-group":!1,"has-success":!1,"has-warning":!1,"has-danger":!1,"form-control-label":!1,"form-control":!1,"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1,"form-control-feedback":!1,"form-text":!1,"text-muted":!1},styles:{},changeState:{inputSuccess:"",inputFailed:""}};return e}function billingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;r.toggleAddressCopy=function(t){r.copyShipping()(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/billingInfo.directive.htm",replace:!0,scope:{address:"=",payment:"=",copyShippingAddress:"=",copyShipping:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCSV(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCSV.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccCapture(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccCapture.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccExp(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccExp.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccName.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function ccNumber(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/ccNumber.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function city(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/city.directive.htm",replace:!0,scope:{cityName:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function contactInfo(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/contactInfo.directive.htm",replace:!0,scope:{name:"=",email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function emailAddress(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/emailAddress.directive.htm",replace:!0,scope:{email:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function firstName(){function t(t,e,r,n){}function e(t,e,r){var n=this;n.state={container:{classes:r.initClasses("container"),styles:r.initStyles("container")},input:{classes:r.initClasses("input"),styles:r.initStyles("container")}},n.validate=function(t,e){}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/firstName.directive.htm",replace:!0,scope:{first:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","stateData"],r}function lastName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/lastName.directive.htm",replace:!0,scope:{last:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function progressBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/progressBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function purchaseBtn(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/purchaseBtn.directive.htm",replace:!0,scope:{submitForm:"&"},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingCalculator(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingCalculator.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function shippingInfo(){function t(t,e,r,n){}function e(t,e){var r=this;e.info(r.address)}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/shippingInfo.directive.htm",replace:!0,scope:{address:"=",requirnments:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function state(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/state.directive.htm",replace:!0,scope:{stateId:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function street(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/street.directive.htm",replace:!0,scope:{streetAddress:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function toolBar(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/toolBar.directive.htm",replace:!0,scope:{},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function yourName(){function t(t,e,r,n){}function e(t,e){}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/yourName.directive.htm",replace:!0,scope:{name:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log"],r}function zipCode(){function t(t,e,r,n){}function e(t,e,r,n){function o(t){var e=!1;return"undefined"!=typeof t&&t.length>=5&&(e=!0),e}function i(){s.state.container.classes=n.updateState("container","success"),s.state.input.classes=n.updateState("input","success")}function c(){s.state.container.classes["has-success"]=!1,s.state.container.classes["has-warning"]=!0,s.state.container.classes["has-danger"]=!1,s.state.input.classes["form-control-success"]=!1,s.state.input.classes["form-control-warning"]=!0,s.state.input.classes["form-control-danger"]=!1}var s=this;s.valStages=n.initValStages(),s.state={container:{classes:n.initClasses("container"),styles:n.initStyles("container")},input:{classes:n.initClasses("input"),styles:n.initStyles("container")}},s.validate=function(t){s.valStages.attempted&&(o(t)?i():c())},s.submit=function(t){s.valStages.attempted=!0,s.validate(t)}}t.$inject=["scope","el","attr","ctrl"];var r={restrict:"AECM",templateUrl:"views/directives/zipCode.directive.htm",replace:!0,scope:{uniqueId:"=",zip:"="},link:t,controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$scope","$log","server","stateData"],r}function confirmationController(t){}function landingController(t,e,r,n,o,i,c){var s=this;s.model=i,t.$watch("vm.model.shipping.address.zip",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.zip=t)}),t.$watch("vm.model.shipping.address.city",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.city=t)}),t.$watch("vm.model.shipping.address.state",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.state=t)}),t.$watch("vm.model.shipping.address.street1",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street1=t)}),t.$watch("vm.model.shipping.address.street2",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street2=t)}),t.$watch("vm.model.shipping.address.street3",function(t,e){s.model.copyShippingAddress&&(s.model.billing.address.street3=t)}),s.copyShippingAddress=function(t){t?s.model.billing.address=s.model.shipping.address:s.model.billing.address=i.billing.address},s.submitForm=function(t){e.info("submitting",t),c.submitSale(s.model).then(function(t){e.info(t),n.path("/confirmation/?tesing=goodTest"),o.$apply()})["catch"](function(t){e.info(t)}),n.path("/processing")}}function processingController(t){}function config(t){t.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/processing",{templateUrl:"views/processing.htm",controller:"processingController",controllerAs:"vm"}).when("/confirmation",{templateUrl:"views/confirmation.htm",controller:"confirmationController",controllerAs:"vm"})}function server(t,e){var r=this;r._get=function(t){return new Promise(function(r,n){e.get(t).then(function(t){r(t.data)},function(t){n(t)})})},r._post=function(r,n,o){return t.info("url",r,"data",n),new Promise(function(t,i){e.post(r,n,o).then(function(e){t(e)},function(t){i(t)})})},r.cityStateLookup=function(t){var e="/api/zipcheck/"+t;return new Promise(function(t,n){r._get(e).then(function(e){t(e)})["catch"](function(t){n(t)})})},r.submitSale=function(e){t.info("submitting sale");var n={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"};return new Promise(function(t,o){r._post("/api/order",e,n).then(function(e){t(e)})["catch"](function(t){o(t)})})}}function stateData(t){var e=this;e.valStages={attempted:!1,successful:!1,failed:!0},e.classes={container:{"has-success":!1,"has-warning":!1,"has-danger":!1},input:{"form-control-success":!1,"form-control-warning":!1,"form-control-danger":!1}},e.styles={container:{},input:{}},e.initValStages=function(){return e.valStages},e.initClasses=function(t){return e.classes[t]},e.initStyles=function(t){return e.styles[t]},e.updateState=function(t,r){var n=e.classes[t];return Object.keys(n).forEach(function(t){var e=t.split("-");e.forEach(function(e){e==r?n[t]=!0:n[t]=!1})}),n}}config.$inject=["$routeProvider"];var trumpsNuts=angular.module("trumpsNuts",["ngRoute"]);angular.module("trumpsNuts").factory("dataModel",dataModel),dataModel.$inject=["$log"],angular.module("trumpsNuts").factory("stateFactory",stateFactory),stateFactory.$inject=["$log"],angular.module("trumpsNuts").directive("billingInfo",billingInfo),angular.module("trumpsNuts").directive("ccCSV",ccCSV),angular.module("trumpsNuts").directive("ccCapture",ccCapture),angular.module("trumpsNuts").directive("ccExp",ccExp),angular.module("trumpsNuts").directive("ccName",ccName),angular.module("trumpsNuts").directive("ccNumber",ccNumber),angular.module("trumpsNuts").directive("city",city),angular.module("trumpsNuts").directive("contactInfo",contactInfo),angular.module("trumpsNuts").directive("emailAddress",emailAddress),angular.module("trumpsNuts").directive("firstName",firstName),angular.module("trumpsNuts").directive("lastName",lastName),angular.module("trumpsNuts").directive("progressBar",progressBar),angular.module("trumpsNuts").directive("purchaseBtn",purchaseBtn),angular.module("trumpsNuts").directive("shippingCalculator",shippingCalculator),angular.module("trumpsNuts").directive("shippingInfo",shippingInfo),angular.module("trumpsNuts").directive("state",state),angular.module("trumpsNuts").directive("street",street),angular.module("trumpsNuts").directive("toolBar",toolBar),angular.module("trumpsNuts").directive("yourName",yourName),angular.module("trumpsNuts").directive("zipCode",zipCode),angular.module("trumpsNuts").controller("confirmationController",confirmationController),confirmationController.$inject=["$log"],angular.module("trumpsNuts").controller("landingController",landingController),landingController.$inject=["$scope","$log","$routeParams","$location","$rootScope","dataModel","server"],angular.module("trumpsNuts").controller("processingController",processingController),processingController.$inject=["$log"],angular.module("trumpsNuts").config(config),angular.module("trumpsNuts").service("server",server),server.$inject=["$log","$http"],angular.module("trumpsNuts").service("stateData",stateData),stateData.$inject=["$log"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvZmFjdG9yaWVzL2RhdGFNb2RlbC5mYWN0b3J5LmpzIiwic2NyaXB0cy9mYWN0b3JpZXMvc3RhdGUuZmFjdG9yeS5qcyIsImJ1bmRsZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9iaWxsaW5nSW5mby5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NjQ2FwdHVyZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NFeHAuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvY2NOdW1iZXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NpdHkuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9lbWFpbEFkZHJlc3MuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2ZpcnN0TmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvbGFzdE5hbWUuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Byb2dyZXNzQmFyLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9wdXJjaGFzZUJ0bi5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2hpcHBpbmdDYWxjdWxhdG9yLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zaGlwcGluZ0luZm8uZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9zdHJlZXQuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3Rvb2xiYXIuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL3lvdXJOYW1lLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy96aXBDb2RlLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvY29uZmlybWF0aW9uLmNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2xhbmRpbmcuY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvcHJvY2Vzc2luZy5jb250cm9sbGVyLmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGUtY29uZmlnLmpzIiwic2NyaXB0cy9zZXJ2aWNlcy9zZXJ2ZXIuc2VydmljZS5qcyIsInNjcmlwdHMvc2VydmljZXMvc3RhdGVEYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2FwcC5qcyJdLCJuYW1lcyI6WyJkYXRhTW9kZWwiLCIkbG9nIiwiX3JlYWQiLCJwcm9wIiwiX3VwZGF0ZSIsInZhbHVlIiwicmVhZFByb3AiLCJ1cGRhdGVQcm9wIiwiZGF0YU1vZGVsT2JqZWN0IiwibmFtZSIsImZpcnN0IiwibGFzdCIsImVtYWlsIiwiY29weVNoaXBwaW5nQWRkcmVzcyIsInNoaXBwaW5nIiwiYWRkcmVzcyIsInN0cmVldDEiLCJzdHJlZXQyIiwic3RyZWV0MyIsImNpdHkiLCJzdGF0ZSIsInppcCIsInJlcXVpcm5tZW50cyIsImJpbGxpbmciLCJwYXltZW50IiwibnVtYmVyIiwiZXhwIiwiY3N2Iiwic3RhdGVGYWN0b3J5Iiwic3RhdGVPYmplY3QiLCJtb2RlbCIsImFsbEVsZW1lbnRzQ29tcGxldGVkIiwiZmllbGRzIiwiaW5wdXQiLCJhZGRyZXNzZWQiLCJzdWNjZXNzIiwiZmFpbHVyZSIsImNsYXNzZXMiLCJmb3JtLWdyb3VwIiwiaGFzLXN1Y2Nlc3MiLCJoYXMtd2FybmluZyIsImhhcy1kYW5nZXIiLCJmb3JtLWNvbnRyb2wtbGFiZWwiLCJmb3JtLWNvbnRyb2wiLCJmb3JtLWNvbnRyb2wtc3VjY2VzcyIsImZvcm0tY29udHJvbC13YXJuaW5nIiwiZm9ybS1jb250cm9sLWRhbmdlciIsImZvcm0tY29udHJvbC1mZWVkYmFjayIsImZvcm0tdGV4dCIsInRleHQtbXV0ZWQiLCJzdHlsZXMiLCJjaGFuZ2VTdGF0ZSIsImlucHV0U3VjY2VzcyIsImlucHV0RmFpbGVkIiwiYmlsbGluZ0luZm8iLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsImJpbGxpbmdJbmZvQ29udHJvbGxlciIsIiRzY29wZSIsInZtIiwidGhpcyIsInRvZ2dsZUFkZHJlc3NDb3B5IiwiYnRuU3RhdGUiLCJjb3B5U2hpcHBpbmciLCIkaW5qZWN0IiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInJlcGxhY2UiLCJsaW5rIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJjY0NTViIsImNjQ1NWQ29udHJvbGxlciIsImNjQ2FwdHVyZSIsImNjQ2FwdHVyZUNvbnRyb2xsZXIiLCJjY0V4cCIsImNjRXhwQ29udHJvbGxlciIsImNjTmFtZSIsImNjTmFtZUNvbnRyb2xsZXIiLCJjY051bWJlciIsImNjTnVtYmVyQ29udHJvbGxlciIsImNpdHlDb250cm9sbGVyIiwiY2l0eU5hbWUiLCJjb250YWN0SW5mbyIsImNvbnRhY3RJbmZvQ29udHJvbGxlciIsImVtYWlsQWRkcmVzcyIsImVtYWlsQWRkcmVzc0NvbnRyb2xsZXIiLCJmaXJzdE5hbWUiLCJmaXJzdE5hbWVDb250cm9sbGVyIiwic3RhdGVEYXRhIiwiY29udGFpbmVyIiwiaW5pdENsYXNzZXMiLCJpbml0U3R5bGVzIiwidmFsaWRhdGUiLCJmaWVsZCIsImxhc3ROYW1lIiwibGFzdE5hbWVDb250cm9sbGVyIiwicHJvZ3Jlc3NCYXIiLCJwcm9ncmVzc0JhckNvbnRyb2xsZXIiLCJwdXJjaGFzZUJ0biIsInB1cmNoYXNlQnRuQ29udHJvbGxlciIsInN1Ym1pdEZvcm0iLCJzaGlwcGluZ0NhbGN1bGF0b3IiLCJzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyIiwic2hpcHBpbmdJbmZvIiwic2hpcHBpbmdJbmZvQ29udHJvbGxlciIsImluZm8iLCJzdGF0ZUNvbnRyb2xsZXIiLCJzdGF0ZUlkIiwic3RyZWV0Iiwic3RyZWV0Q29udHJvbGxlciIsInN0cmVldEFkZHJlc3MiLCJ0b29sQmFyIiwiVG9vbEJhckNvbnRyb2xsZXIiLCJ5b3VyTmFtZSIsInlvdXJOYW1lQ29udHJvbGxlciIsInppcENvZGUiLCJ6aXBDb2RlQ29udHJvbGxlciIsInNlcnZlciIsImxvbmdFbm91Z2giLCJ6aXBjb2RlIiwiZmxhZyIsImxlbmd0aCIsInN1Y2Nlc3NpZnlJbnB1dCIsInVwZGF0ZVN0YXRlIiwiZmFpbGlmeUlucHV0IiwidmFsU3RhZ2VzIiwiaW5pdFZhbFN0YWdlcyIsImF0dGVtcHRlZCIsInN1Ym1pdCIsInVuaXF1ZUlkIiwiY29uZmlybWF0aW9uQ29udHJvbGxlciIsImxhbmRpbmdDb250cm9sbGVyIiwiJHJvdXRlUGFyYW1zIiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsIiR3YXRjaCIsImN1cnJlbnQiLCJvcmlnaW5hbCIsInN1Ym1pdFNhbGUiLCJ0aGVuIiwicmVzcG9uc2UiLCJwYXRoIiwiJGFwcGx5IiwiZXJyb3IiLCJwcm9jZXNzaW5nQ29udHJvbGxlciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsIiRodHRwIiwiYmFja2VuZCIsIl9nZXQiLCJ1cmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldCIsImRhdGEiLCJfcG9zdCIsInBvc3QiLCJjaXR5U3RhdGVMb29rdXAiLCJvcmRlckZvcm0iLCJDb250ZW50LVR5cGUiLCJzdWNjZXNzZnVsIiwiZmFpbGVkIiwic2VjdGlvbiIsInJldHVybk9iamVjdCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVzdWx0QXJyYXkiLCJzcGxpdCIsIndvcmQiLCJ0cnVtcHNOdXRzIiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCJzZXJ2aWNlIl0sIm1hcHBpbmdzIjoiQUFP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RSxRQUFBLFlBQUF6RixXQUVBQSxVQUFBM0IsU0FBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ2RhdGFNb2RlbCcsIGRhdGFNb2RlbCk7XG5cbmRhdGFNb2RlbC4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YU1vZGVsKCRsb2cpIHtcblxuXHR2YXIgZGF0YU1vZGVsT2JqZWN0ID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiAnJyxcblx0XHRcdGxhc3Q6ICcnXG5cdFx0fSxcblx0XHRlbWFpbDogJycsXG5cdFx0Y29weVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRzaGlwcGluZzoge1xuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiAnJyxcblx0XHRcdFx0c3RyZWV0MjogJycsXG5cdFx0XHRcdHN0cmVldDM6ICcnLFxuXHRcdFx0XHRjaXR5OiAnJyxcblx0XHRcdFx0c3RhdGU6ICcnLFxuXHRcdFx0XHR6aXA6ICcnXG5cdFx0XHR9LCBcblx0XHRcdHJlcXVpcm5tZW50czoge31cblx0XHR9LFxuXHRcdGJpbGxpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSxcblx0XHRcdHBheW1lbnQ6IHtcblx0XHRcdFx0bnVtYmVyOiBbJycsICcnLCAnJywgJyddLFxuXHRcdFx0XHRleHA6IFsnJywgJyddLFxuXHRcdFx0XHRjc3Y6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfcmVhZDpfcmVhZCxcblx0XHRfdXBkYXRlOl91cGRhdGUsXG5cdFx0cmVhZFByb3A6cmVhZFByb3AsXG5cdFx0dXBkYXRlUHJvcDp1cGRhdGVQcm9wXG5cdH07XG5cblx0ZnVuY3Rpb24gX3JlYWQocHJvcCkge31cblx0ZnVuY3Rpb24gX3VwZGF0ZShwcm9wLCB2YWx1ZSkge31cblx0ZnVuY3Rpb24gcmVhZFByb3AocHJvcCkge31cblx0ZnVuY3Rpb24gdXBkYXRlUHJvcChwcm9wLCB2YWx1ZSkge31cblxuXHRyZXR1cm4gZGF0YU1vZGVsT2JqZWN0O1xufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuZmFjdG9yeSgnc3RhdGVGYWN0b3J5Jywgc3RhdGVGYWN0b3J5KTtcblxuc3RhdGVGYWN0b3J5LiRpbmplY3QgPSBbJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZUZhY3RvcnkoJGxvZykge1xuXG5cdHZhciBzdGF0ZU9iamVjdCA9IHtcblx0XHRtb2RlbDoge1xuXHRcdFx0YWxsRWxlbWVudHNDb21wbGV0ZWQ6IGZhbHNlLFxuXHRcdFx0ZmllbGRzOiBbXSxcblx0XHRcdGlucHV0OiB7XG5cdFx0XHRcdHByb3A6IHtcblx0XHRcdFx0XHRuYW1lOiAnJyxcblx0XHRcdFx0XHRyZXF1aXJubWVudHM6IFtdXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHN0YXRlOiB7XG5cdFx0XHRcdFx0YWRkcmVzc2VkOiBmYWxzZSxcblx0XHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0XHRmYWlsdXJlOiBmYWxzZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjbGFzc2VzOiB7XG5cdFx0XHQnZm9ybS1ncm91cCc6IGZhbHNlLFxuXHRcdFx0J2hhcy1zdWNjZXNzJzogZmFsc2UsXG5cdFx0XHQnaGFzLXdhcm5pbmcnOiBmYWxzZSxcblx0XHRcdCdoYXMtZGFuZ2VyJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWxhYmVsJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtZmVlZGJhY2snOiBmYWxzZSxcblx0XHRcdCdmb3JtLXRleHQnOiBmYWxzZSxcblx0XHRcdCd0ZXh0LW11dGVkJzogZmFsc2Vcblx0XHR9LFxuXHRcdHN0eWxlczoge1xuXG5cdFx0fSxcblx0XHRjaGFuZ2VTdGF0ZToge1xuXHRcdFx0aW5wdXRTdWNjZXNzOiAnJyxcblx0XHRcdGlucHV0RmFpbGVkOiAnJ1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0U3VjY2VzcygpIHt9XG5cdGZ1bmN0aW9uIGlucHV0RmFpbGVkKCkge31cblxuXHRyZXR1cm4gc3RhdGVPYmplY3Q7XG59IiwiLy8gTU9EVUxFXG5jb25maWcuJGluamVjdCA9IFtcIiRyb3V0ZVByb3ZpZGVyXCJdO1xudmFyIHRydW1wc051dHMgPSBhbmd1bGFyLm1vZHVsZSgndHJ1bXBzTnV0cycsIFsnbmdSb3V0ZSddKTtcblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmZhY3RvcnkoJ2RhdGFNb2RlbCcsIGRhdGFNb2RlbCk7XG5cbmRhdGFNb2RlbC4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YU1vZGVsKCRsb2cpIHtcblxuXHR2YXIgZGF0YU1vZGVsT2JqZWN0ID0ge1xuXHRcdG5hbWU6IHtcblx0XHRcdGZpcnN0OiAnJyxcblx0XHRcdGxhc3Q6ICcnXG5cdFx0fSxcblx0XHRlbWFpbDogJycsXG5cdFx0Y29weVNoaXBwaW5nQWRkcmVzczogdHJ1ZSxcblx0XHRzaGlwcGluZzoge1xuXHRcdFx0YWRkcmVzczoge1xuXHRcdFx0XHRzdHJlZXQxOiAnJyxcblx0XHRcdFx0c3RyZWV0MjogJycsXG5cdFx0XHRcdHN0cmVldDM6ICcnLFxuXHRcdFx0XHRjaXR5OiAnJyxcblx0XHRcdFx0c3RhdGU6ICcnLFxuXHRcdFx0XHR6aXA6ICcnXG5cdFx0XHR9LCBcblx0XHRcdHJlcXVpcm5tZW50czoge31cblx0XHR9LFxuXHRcdGJpbGxpbmc6IHtcblx0XHRcdGFkZHJlc3M6IHtcblx0XHRcdFx0c3RyZWV0MTogJycsXG5cdFx0XHRcdHN0cmVldDI6ICcnLFxuXHRcdFx0XHRzdHJlZXQzOiAnJyxcblx0XHRcdFx0Y2l0eTogJycsXG5cdFx0XHRcdHN0YXRlOiAnJyxcblx0XHRcdFx0emlwOiAnJ1xuXHRcdFx0fSxcblx0XHRcdHBheW1lbnQ6IHtcblx0XHRcdFx0bnVtYmVyOiBbJycsICcnLCAnJywgJyddLFxuXHRcdFx0XHRleHA6IFsnJywgJyddLFxuXHRcdFx0XHRjc3Y6ICcnXG5cdFx0XHR9XG5cdFx0fSxcblx0XHRfcmVhZDpfcmVhZCxcblx0XHRfdXBkYXRlOl91cGRhdGUsXG5cdFx0cmVhZFByb3A6cmVhZFByb3AsXG5cdFx0dXBkYXRlUHJvcDp1cGRhdGVQcm9wXG5cdH07XG5cblx0ZnVuY3Rpb24gX3JlYWQocHJvcCkge31cblx0ZnVuY3Rpb24gX3VwZGF0ZShwcm9wLCB2YWx1ZSkge31cblx0ZnVuY3Rpb24gcmVhZFByb3AocHJvcCkge31cblx0ZnVuY3Rpb24gdXBkYXRlUHJvcChwcm9wLCB2YWx1ZSkge31cblxuXHRyZXR1cm4gZGF0YU1vZGVsT2JqZWN0O1xufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5mYWN0b3J5KCdzdGF0ZUZhY3RvcnknLCBzdGF0ZUZhY3RvcnkpO1xuXG5zdGF0ZUZhY3RvcnkuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRmFjdG9yeSgkbG9nKSB7XG5cblx0dmFyIHN0YXRlT2JqZWN0ID0ge1xuXHRcdG1vZGVsOiB7XG5cdFx0XHRhbGxFbGVtZW50c0NvbXBsZXRlZDogZmFsc2UsXG5cdFx0XHRmaWVsZHM6IFtdLFxuXHRcdFx0aW5wdXQ6IHtcblx0XHRcdFx0cHJvcDoge1xuXHRcdFx0XHRcdG5hbWU6ICcnLFxuXHRcdFx0XHRcdHJlcXVpcm5tZW50czogW11cblx0XHRcdFx0fSxcblx0XHRcdFx0c3RhdGU6IHtcblx0XHRcdFx0XHRhZGRyZXNzZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGZhaWx1cmU6IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGNsYXNzZXM6IHtcblx0XHRcdCdmb3JtLWdyb3VwJzogZmFsc2UsXG5cdFx0XHQnaGFzLXN1Y2Nlc3MnOiBmYWxzZSxcblx0XHRcdCdoYXMtd2FybmluZyc6IGZhbHNlLFxuXHRcdFx0J2hhcy1kYW5nZXInOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtbGFiZWwnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wnOiBmYWxzZSxcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC1mZWVkYmFjayc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tdGV4dCc6IGZhbHNlLFxuXHRcdFx0J3RleHQtbXV0ZWQnOiBmYWxzZVxuXHRcdH0sXG5cdFx0c3R5bGVzOiB7XG5cblx0XHR9LFxuXHRcdGNoYW5nZVN0YXRlOiB7XG5cdFx0XHRpbnB1dFN1Y2Nlc3M6ICcnLFxuXHRcdFx0aW5wdXRGYWlsZWQ6ICcnXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRTdWNjZXNzKCkge31cblx0ZnVuY3Rpb24gaW5wdXRGYWlsZWQoKSB7fVxuXG5cdHJldHVybiBzdGF0ZU9iamVjdDtcbn1cbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdiaWxsaW5nSW5mbycsIGJpbGxpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiaWxsaW5nSW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2JpbGxpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHBheW1lbnQ6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZ0FkZHJlc3M6ICc9Jyxcblx0XHRcdGNvcHlTaGlwcGluZzogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBiaWxsaW5nSW5mb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBiaWxsaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHQgICAgdm0udG9nZ2xlQWRkcmVzc0NvcHkgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXG5cdCAgICBcdHZtLmNvcHlTaGlwcGluZygpKGJ0blN0YXRlKTtcblxuXHQgICAgfVxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ1NWJywgY2NDU1YpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ1NWKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDU1ZDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDU1ZDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDU1ZDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjQ2FwdHVyZScsIGNjQ2FwdHVyZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDYXB0dXJlKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDYXB0dXJlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjQ2FwdHVyZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0NhcHR1cmVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDYXB0dXJlQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0V4cCcsIGNjRXhwKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0V4cCgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjRXhwLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjRXhwQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjRXhwQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjRXhwQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY05hbWUnLCBjY05hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY05hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NOdW1iZXInLCBjY051bWJlcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOdW1iZXIoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY051bWJlci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY051bWJlckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY051bWJlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY051bWJlckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2l0eScsIGNpdHkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNpdHkoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jaXR5LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGNpdHlOYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNpdHlDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2l0eUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjaXR5Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjb250YWN0SW5mbycsIGNvbnRhY3RJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb250YWN0SW5mbygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9Jyxcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbnRhY3RJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhY3RJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdlbWFpbEFkZHJlc3MnLCBlbWFpbEFkZHJlc3MpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGVtYWlsQWRkcmVzcygpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2VtYWlsQWRkcmVzcy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRlbWFpbDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBlbWFpbEFkZHJlc3NDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgZW1haWxBZGRyZXNzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZmlyc3ROYW1lJywgZmlyc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJzdE5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9maXJzdE5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0Zmlyc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogZmlyc3ROYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGZpcnN0TmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnc3RhdGVEYXRhJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZmlyc3ROYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHN0YXRlRGF0YSkge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy8kbG9nLmluZm8oc3RhdGUpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XG5cdCAgICBcdFxuXHQgICAgXHQvL2lmKHZhbHVlLmxlbmd0aCA+IDEpIHN0YXRlLmNoYW5nZVN0YXRlLmlucHV0U3VjY2VzcygpXG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdsYXN0TmFtZScsIGxhc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYXN0TmFtZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xhc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxhc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGFzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGFzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGFzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Byb2dyZXNzQmFyJywgcHJvZ3Jlc3NCYXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHByb2dyZXNzQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHJvZ3Jlc3NCYXIuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHJvZ3Jlc3NCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHJvZ3Jlc3NCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHJvZ3Jlc3NCYXJDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3B1cmNoYXNlQnRuJywgcHVyY2hhc2VCdG4pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHB1cmNoYXNlQnRuKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvcHVyY2hhc2VCdG4uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c3VibWl0Rm9ybTogJyYnXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwdXJjaGFzZUJ0bkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc2hpcHBpbmdDYWxjdWxhdG9yJywgc2hpcHBpbmdDYWxjdWxhdG9yKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3IoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3NoaXBwaW5nSW5mbycsIHNoaXBwaW5nSW5mbyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2hpcHBpbmdJbmZvKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2hpcHBpbmdJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGFkZHJlc3M6ICc9Jyxcblx0XHRcdHJlcXVpcm5tZW50czogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzaGlwcGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc2hpcHBpbmdJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdCAgICAkbG9nLmluZm8odm0uYWRkcmVzcyk7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdGF0ZScsIHN0YXRlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3N0YXRlLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0YXRlSWQ6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RhdGVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgc3RhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc3RhdGVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3N0cmVldCcsIHN0cmVldCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc3RyZWV0KCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RyZWV0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0cmVldEFkZHJlc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RyZWV0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0cmVldENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdHJlZXRDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59O1xuLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3Rvb2xCYXInLCB0b29sQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB0b29sQmFyKCkge1xuICAgIGxpbmtGdW5jLiRpbmplY3QgPSBbXCJzY29wZVwiLCBcImVsXCIsIFwiYXR0clwiLCBcImN0cmxcIl07XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdG9vbEJhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBUb29sQmFyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIFRvb2xCYXJDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gVG9vbEJhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG4vKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgneW91ck5hbWUnLCB5b3VyTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24geW91ck5hbWUoKSB7XG4gICAgbGlua0Z1bmMuJGluamVjdCA9IFtcInNjb3BlXCIsIFwiZWxcIiwgXCJhdHRyXCIsIFwiY3RybFwiXTtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy95b3VyTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRuYW1lOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHlvdXJOYW1lQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHlvdXJOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHlvdXJOYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTtcbi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd6aXBDb2RlJywgemlwQ29kZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gemlwQ29kZSgpIHtcbiAgICBsaW5rRnVuYy4kaW5qZWN0ID0gW1wic2NvcGVcIiwgXCJlbFwiLCBcImF0dHJcIiwgXCJjdHJsXCJdO1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dW5pcXVlSWQ6ICc9Jyxcblx0XHRcdHppcDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB6aXBDb2RlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHppcENvZGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlcicsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB6aXBDb2RlQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHNlcnZlciwgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS52YWxTdGFnZXMgPSBzdGF0ZURhdGEuaW5pdFZhbFN0YWdlcygpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbG9uZ0Vub3VnaCh6aXBjb2RlKSB7XG5cdCAgICBcdHZhciBmbGFnID0gZmFsc2U7XG5cblx0ICAgIFx0aWYodHlwZW9mIHppcGNvZGUgIT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBcdFx0aWYoemlwY29kZS5sZW5ndGggPj0gNSkgZmxhZyA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIGZsYWc7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1Y2Nlc3NpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdzdWNjZXNzJywgdm0uc3RhdGUuY29udGFpbmVyKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2NvbnRhaW5lcicsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdpbnB1dCcsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmYWlsaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZmFpbGVkJyk7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaXR5U3RhdGVMb29rdXAoemlwY29kZSkge1xuXHRcdCAgICBzZXJ2ZXIuY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdCAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlcnJvcik7XG5cdFx0ICAgIH0pO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdC8vb25seSB2YWxpZGF0ZSBpZiB0aGV5J3ZlIHRyaWVkIGF0IGxlYXN0IG9uY2Vcblx0ICAgIFx0aWYodm0udmFsU3RhZ2VzLmF0dGVtcHRlZCkge1xuXG5cdCAgICBcdFx0Ly9jaGVjayBpZiBpdCdzIGxvbmcgZW5vdWdoXG5cdCAgICBcdFx0aWYobG9uZ0Vub3VnaCh6aXBjb2RlKSkgc3VjY2Vzc2lmeUlucHV0KCk7XG5cdCAgICBcdFx0ZWxzZSBmYWlsaWZ5SW5wdXQoKTtcblxuXHQgICAgXHR9XG5cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0ID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdHZtLnZhbGlkYXRlKHppcGNvZGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ2NvbmZpcm1hdGlvbkNvbnRyb2xsZXInLCBjb25maXJtYXRpb25Db250cm9sbGVyKTtcblxuY29uZmlybWF0aW9uQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlybWF0aW9uQ29udHJvbGxlcigkbG9nKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG59XHRcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsICdkYXRhTW9kZWwnLCAnc2VydmVyJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbGFuZGluZ0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkcm91dGVQYXJhbXMsICRsb2NhdGlvbiwgJHJvb3RTY29wZSwgZGF0YU1vZGVsLCBzZXJ2ZXIpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLm1vZGVsID0gZGF0YU1vZGVsO1xuXG5cdC8vd2F0Y2hlcnNcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy56aXAnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy56aXAgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3MuY2l0eScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLmNpdHkgPSBjdXJyZW50O1xuXHR9KTtcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RhdGUnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdGF0ZSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQxJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdHJlZXQyJywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3Muc3RyZWV0MiA9IGN1cnJlbnQ7XG5cdH0pO1x0XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDMnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQzID0gY3VycmVudDtcblx0fSk7XHRcblxuXHQvL3ZpZXcgbW9kZWwgbWV0aG9kc1xuXHR2bS5jb3B5U2hpcHBpbmdBZGRyZXNzID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblx0XHQvLyRsb2cuaW5mbygnY29weWluZycsIHZtLm1vZGVsLnNoaXBwaW5nKTtcblx0XHRpZihidG5TdGF0ZSkgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzID0gdm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcztcblx0XHRlbHNlIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcyA9IGRhdGFNb2RlbC5iaWxsaW5nLmFkZHJlc3M7XG5cdH1cblxuXHR2bS5zdWJtaXRGb3JtID0gZnVuY3Rpb24odmFsdWUpIHtcblx0XHQkbG9nLmluZm8oJ3N1Ym1pdHRpbmcnLCB2YWx1ZSk7XG5cblx0XHRzZXJ2ZXIuc3VibWl0U2FsZSh2bS5tb2RlbCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHQkbG9nLmluZm8ocmVzcG9uc2UpO1xuXG5cdFx0XHQvL3doZW4gdGhlIHByb21pc2UgcmVzb2x2ZXMsIHJlLXJvdXRlIHRoZW1cblx0XHRcdCRsb2NhdGlvbi5wYXRoKCcvY29uZmlybWF0aW9uLz90ZXNpbmc9Z29vZFRlc3QnKTtcblx0XHRcdCRyb290U2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHQkbG9nLmluZm8oZXJyb3IpO1xuXHRcdH0pO1xuXG5cdFx0Ly90YWtlIHRoZW0gaW1tZWRpYXRseSB0byB0aGUgcHJvY2Vzc2luZyBwYWdlXG5cdFx0JGxvY2F0aW9uLnBhdGgoJy9wcm9jZXNzaW5nJyk7XG5cblx0fVxufVx0XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ3Byb2Nlc3NpbmdDb250cm9sbGVyJywgcHJvY2Vzc2luZ0NvbnRyb2xsZXIpO1xuXG5wcm9jZXNzaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvY2Vzc2luZ0NvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0XG5hbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIpIHsgICBcbiAgICAkcm91dGVQcm92aWRlclxuICAgIC8vZGVmaW5lIHRoZSBsYW5kaW5nIHBhZ2VcbiAgICAud2hlbignLycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sYW5kaW5nUGFnZS5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvcHJvY2Vzc2luZycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wcm9jZXNzaW5nLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdwcm9jZXNzaW5nQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9jb25maXJtYXRpb24nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29uZmlybWF0aW9uLmh0bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjb25maXJtYXRpb25Db250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSk7XG59XG5cblxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCd0cnVtcHNOdXRzJylcbiAgICAuc2VydmljZSgnc2VydmVyJywgc2VydmVyKTtcblxuc2VydmVyLiRpbmplY3QgPSBbJyRsb2cnLCAnJGh0dHAnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzZXJ2ZXIoJGxvZywgJGh0dHApIHtcblx0dmFyIGJhY2tlbmQgPSB0aGlzO1xuXG5cdC8vZ2V0cyBmcm9tIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fZ2V0ID0gZnVuY3Rpb24odXJsKSB7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlLmRhdGEpO1xuXG5cdFx0XHR9LCBmdW5jdGlvbiB0aGVFcnJvcnMoZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHQvL3Bvc3RzIHRvIHRoZSBzZXJ2ZXJcblx0YmFja2VuZC5fcG9zdCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG5cblx0XHQkbG9nLmluZm8oJ3VybCcsIHVybCwgJ2RhdGEnLCBkYXRhKTtcblxuXHRcdC8vcmV0dXJuIHRoZSBwcm9taXNlXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHQkaHR0cC5wb3N0KHVybCwgZGF0YSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcmVjZWl2ZXMgYSB6aXBjb2RlLCByZXR1cm5zIGEgY2l0eSBhbmQgc3RhdGVcblx0YmFja2VuZC5jaXR5U3RhdGVMb29rdXAgPSBmdW5jdGlvbih6aXBjb2RlKSB7XG5cblx0XHQvL2J1aWxkIHRoZSBuZXcgdXJsXG5cdFx0dmFyIHVybCA9ICcvYXBpL3ppcGNoZWNrLycgKyB6aXBjb2RlO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX2dldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhIGdvb2QgcmVzcG9uc2Vcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZSk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYW4gZXJyb3IgcmVzcG9uc2Vcblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblx0XHRcdFx0XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxuXHRiYWNrZW5kLnN1Ym1pdFNhbGUgPSBmdW5jdGlvbihvcmRlckZvcm0pIHtcblxuXHRcdCRsb2cuaW5mbygnc3VibWl0dGluZyBzYWxlJyk7XG5cblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZVxuXHRcdHZhciBjb25maWcgPSB7XG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Oydcblx0XHR9O1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdC8vaW5pdGlhdGUgdGhlIHJlcXVlc3Rcblx0XHRcdGJhY2tlbmQuX3Bvc3QoJy9hcGkvb3JkZXInLCBvcmRlckZvcm0sIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH1cblxufVxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzdGF0ZURhdGEnLCBzdGF0ZURhdGEpO1xuXG5zdGF0ZURhdGEuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRGF0YSgkbG9nKSB7XG5cdHZhciBzdGF0ZSA9IHRoaXM7XG5cblx0c3RhdGUudmFsU3RhZ2VzID0ge1xuICAgIFx0YXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBcdHN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIFx0ZmFpbGVkOiB0cnVlXG5cdH07XG5cblx0c3RhdGUuY2xhc3NlcyA9IHtcblx0XHRjb250YWluZXI6IHtcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFx0XHRcdFxuXHRcdH0sXG5cdFx0aW5wdXQ6IHtcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlXG5cdFx0fVxuXHR9O1xuXG5cdHN0YXRlLnN0eWxlcyA9IHtcblx0XHRjb250YWluZXI6IHt9LFxuXHRcdGlucHV0OiB7fVxuXHR9O1xuXG5cdHN0YXRlLmluaXRWYWxTdGFnZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3RhdGUudmFsU3RhZ2VzO1xuXHR9XG5cblx0c3RhdGUuaW5pdENsYXNzZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS5pbml0U3R5bGVzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5zdHlsZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKHNlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cblx0XHRPYmplY3Qua2V5cyhyZXR1cm5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgcmVzdWx0QXJyYXkgPSBrZXkuc3BsaXQoJy0nKTtcblxuXHRcdFx0cmVzdWx0QXJyYXkuZm9yRWFjaChmdW5jdGlvbih3b3JkKSB7XG5cdFx0XHRcdGlmKHdvcmQgPT0gdmFsdWUpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vaWYoa2V5LmNvbnRhaW5zKHZhbHVlKSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0Ly9lbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cbn1cdCIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdiaWxsaW5nSW5mbycsIGJpbGxpbmdJbmZvKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBiaWxsaW5nSW5mbygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9iaWxsaW5nSW5mby5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRhZGRyZXNzOiAnPScsXG5cdFx0XHRwYXltZW50OiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmdBZGRyZXNzOiAnPScsXG5cdFx0XHRjb3B5U2hpcHBpbmc6ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogYmlsbGluZ0luZm9Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgYmlsbGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gYmlsbGluZ0luZm9Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHQgICAgLy92aWV3IG1vZGVsIG1ldGhvZHNcblx0ICAgIHZtLnRvZ2dsZUFkZHJlc3NDb3B5ID0gZnVuY3Rpb24oYnRuU3RhdGUpIHtcblxuXHQgICAgXHR2bS5jb3B5U2hpcHBpbmcoKShidG5TdGF0ZSk7XG5cblx0ICAgIH1cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2NDU1YnLCBjY0NTVik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NDU1YoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2NDU1YuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDU1ZDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NDU1ZDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2NDU1ZDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0NhcHR1cmUnLCBjY0NhcHR1cmUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjQ2FwdHVyZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0NhcHR1cmUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY2NDYXB0dXJlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjQ2FwdHVyZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0NhcHR1cmVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdjY0V4cCcsIGNjRXhwKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjY0V4cCgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jY0V4cC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY0V4cENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBjY0V4cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBjY0V4cENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTmFtZScsIGNjTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2NOYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTmFtZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjY05hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgY2NOYW1lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NjTnVtYmVyJywgY2NOdW1iZXIpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNjTnVtYmVyKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NjTnVtYmVyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNjTnVtYmVyQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNjTnVtYmVyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNjTnVtYmVyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnY2l0eScsIGNpdHkpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNpdHkoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvY2l0eS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRjaXR5TmFtZTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjaXR5Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNpdHlDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gY2l0eUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2NvbnRhY3RJbmZvJywgY29udGFjdEluZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbnRhY3RJbmZvKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2NvbnRhY3RJbmZvLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdG5hbWU6ICc9Jyxcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGNvbnRhY3RJbmZvQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIGNvbnRhY3RJbmZvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGNvbnRhY3RJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZW1haWxBZGRyZXNzJywgZW1haWxBZGRyZXNzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBlbWFpbEFkZHJlc3MoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZW1haWxBZGRyZXNzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGVtYWlsOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGVtYWlsQWRkcmVzc0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBlbWFpbEFkZHJlc3NDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZW1haWxBZGRyZXNzQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnZmlyc3ROYW1lJywgZmlyc3ROYW1lKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJzdE5hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZmlyc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGZpcnN0OiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGZpcnN0TmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBmaXJzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3N0YXRlRGF0YSddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZpcnN0TmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBzdGF0ZURhdGEpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgIC8vJGxvZy5pbmZvKHN0YXRlKTtcblxuXHQgICAgdm0uc3RhdGUgPSB7XG5cdFx0ICAgIGNvbnRhaW5lcjoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnY29udGFpbmVyJyksXG5cdFx0ICAgIFx0c3R5bGVzOiBzdGF0ZURhdGEuaW5pdFN0eWxlcygnY29udGFpbmVyJylcdCAgICBcdFx0XG5cdCAgICBcdH0sIFxuXHQgICAgXHRpbnB1dDoge1xuXHRcdCAgICBcdGNsYXNzZXM6IHN0YXRlRGF0YS5pbml0Q2xhc3NlcygnaW5wdXQnKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVxuXHQgICAgXHR9XG5cdCAgICB9XG5cblx0ICAgIC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdCAgICB2bS52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCB2YWx1ZSkge1xuXHQgICAgXHRcblx0ICAgIFx0Ly9pZih2YWx1ZS5sZW5ndGggPiAxKSBzdGF0ZS5jaGFuZ2VTdGF0ZS5pbnB1dFN1Y2Nlc3MoKVxuXG5cdCAgICB9XG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ2xhc3ROYW1lJywgbGFzdE5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhc3ROYW1lKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xhc3ROYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdGxhc3Q6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbGFzdE5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgbGFzdE5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gbGFzdE5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdwcm9ncmVzc0JhcicsIHByb2dyZXNzQmFyKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBwcm9ncmVzc0JhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9wcm9ncmVzc0Jhci5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBwcm9ncmVzc0JhckNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBwcm9ncmVzc0JhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBwcm9ncmVzc0JhckNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3B1cmNoYXNlQnRuJywgcHVyY2hhc2VCdG4pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHB1cmNoYXNlQnRuKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3B1cmNoYXNlQnRuLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN1Ym1pdEZvcm06ICcmJ1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogcHVyY2hhc2VCdG5Db250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgcHVyY2hhc2VCdG5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gcHVyY2hhc2VCdG5Db250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0NhbGN1bGF0b3InLCBzaGlwcGluZ0NhbGN1bGF0b3IpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nQ2FsY3VsYXRvcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0NhbGN1bGF0b3IuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge30sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2hpcHBpbmdDYWxjdWxhdG9yQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHNoaXBwaW5nQ2FsY3VsYXRvckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzaGlwcGluZ0NhbGN1bGF0b3JDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzaGlwcGluZ0luZm8nLCBzaGlwcGluZ0luZm8pO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNoaXBwaW5nSW5mbygpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zaGlwcGluZ0luZm8uZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0YWRkcmVzczogJz0nLFxuXHRcdFx0cmVxdWlybm1lbnRzOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHNoaXBwaW5nSW5mb0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICBzaGlwcGluZ0luZm9Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gc2hpcHBpbmdJbmZvQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0ICAgICRsb2cuaW5mbyh2bS5hZGRyZXNzKTtcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCdzdGF0ZScsIHN0YXRlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdGF0ZSgpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zdGF0ZS5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRzdGF0ZUlkOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IHN0YXRlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0YXRlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIHN0YXRlQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgnc3RyZWV0Jywgc3RyZWV0KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzdHJlZXQoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc3RyZWV0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHN0cmVldEFkZHJlc3M6ICc9J1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc3RyZWV0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHN0cmVldENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBzdHJlZXRDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHQgICAgdmFyIHZtID0gdGhpcztcblxuXHR9XG5cblx0cmV0dXJuICBkaXJlY3RpdmU7XG5cdFx0XG59OyIsIi8qIFRvb2xCYXIuZGlyZWN0aXZlLmpzICovXG5cbi8qKlxuKiBAZGVzYyB0b29sYmFyIGRpcmVjdGl2ZSB0aGF0IGlzIHVzZWQgb24gdGhlIG1haW4gcGFnZSBhY3Jvc3MgdGhlIGVudGlyZSBhcHAuXG4qIEBleGFtcGxlIDxkaXYgdG9vbC1iYXI+PC9kaXY+XG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ3RydW1wc051dHMnKVxuXHQuZGlyZWN0aXZlKCd0b29sQmFyJywgdG9vbEJhcik7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gdG9vbEJhcigpIHtcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogJ0FFQ00nLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90b29sQmFyLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHt9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IFRvb2xCYXJDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG4gICAgfVxuXG4gICAgVG9vbEJhckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBUb29sQmFyQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0ICAgIHZhciB2bSA9IHRoaXM7XG5cblx0fVxuXG5cdHJldHVybiAgZGlyZWN0aXZlO1xuXHRcdFxufTsiLCIvKiBUb29sQmFyLmRpcmVjdGl2ZS5qcyAqL1xuXG4vKipcbiogQGRlc2MgdG9vbGJhciBkaXJlY3RpdmUgdGhhdCBpcyB1c2VkIG9uIHRoZSBtYWluIHBhZ2UgYWNyb3NzIHRoZSBlbnRpcmUgYXBwLlxuKiBAZXhhbXBsZSA8ZGl2IHRvb2wtYmFyPjwvZGl2PlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCd0cnVtcHNOdXRzJylcblx0LmRpcmVjdGl2ZSgneW91ck5hbWUnLCB5b3VyTmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24geW91ck5hbWUoKSB7XG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6ICdBRUNNJyxcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMveW91ck5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0bmFtZTogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB5b3VyTmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcbiAgICB9XG5cbiAgICB5b3VyTmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB5b3VyTmFtZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiLyogVG9vbEJhci5kaXJlY3RpdmUuanMgKi9cblxuLyoqXG4qIEBkZXNjIHRvb2xiYXIgZGlyZWN0aXZlIHRoYXQgaXMgdXNlZCBvbiB0aGUgbWFpbiBwYWdlIGFjcm9zcyB0aGUgZW50aXJlIGFwcC5cbiogQGV4YW1wbGUgPGRpdiB0b29sLWJhcj48L2Rpdj5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgndHJ1bXBzTnV0cycpXG5cdC5kaXJlY3RpdmUoJ3ppcENvZGUnLCB6aXBDb2RlKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiB6aXBDb2RlKCkge1xuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiAnQUVDTScsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3ppcENvZGUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dW5pcXVlSWQ6ICc9Jyxcblx0XHRcdHppcDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiB6aXBDb2RlQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuICAgIH1cblxuICAgIHppcENvZGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ3NlcnZlcicsICdzdGF0ZURhdGEnXTtcbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiB6aXBDb2RlQ29udHJvbGxlcigkc2NvcGUsICRsb2csIHNlcnZlciwgc3RhdGVEYXRhKSB7XG5cdCAgICB2YXIgdm0gPSB0aGlzO1xuXHQgICAgXG5cdCAgICAvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdCAgICB2bS52YWxTdGFnZXMgPSBzdGF0ZURhdGEuaW5pdFZhbFN0YWdlcygpO1xuXG5cdCAgICB2bS5zdGF0ZSA9IHtcblx0XHQgICAgY29udGFpbmVyOiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdjb250YWluZXInKSxcblx0XHQgICAgXHRzdHlsZXM6IHN0YXRlRGF0YS5pbml0U3R5bGVzKCdjb250YWluZXInKVx0ICAgIFx0XHRcblx0ICAgIFx0fSwgXG5cdCAgICBcdGlucHV0OiB7XG5cdFx0ICAgIFx0Y2xhc3Nlczogc3RhdGVEYXRhLmluaXRDbGFzc2VzKCdpbnB1dCcpLFxuXHRcdCAgICBcdHN0eWxlczogc3RhdGVEYXRhLmluaXRTdHlsZXMoJ2NvbnRhaW5lcicpXG5cdCAgICBcdH1cblx0ICAgIH1cblxuXHQgICAgZnVuY3Rpb24gbG9uZ0Vub3VnaCh6aXBjb2RlKSB7XG5cdCAgICBcdHZhciBmbGFnID0gZmFsc2U7XG5cblx0ICAgIFx0aWYodHlwZW9mIHppcGNvZGUgIT0gJ3VuZGVmaW5lZCcpXG5cdCAgICBcdFx0aWYoemlwY29kZS5sZW5ndGggPj0gNSkgZmxhZyA9IHRydWU7XG5cblx0ICAgIFx0cmV0dXJuIGZsYWc7XG5cdCAgICB9XG5cblx0ICAgIGZ1bmN0aW9uIHN1Y2Nlc3NpZnlJbnB1dCgpIHsgXG5cdCAgICBcdC8vJGxvZy5pbmZvKCdzdWNjZXNzJywgdm0uc3RhdGUuY29udGFpbmVyKTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXMgPSBzdGF0ZURhdGEudXBkYXRlU3RhdGUoJ2NvbnRhaW5lcicsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1zdWNjZXNzJ10gPSB0cnVlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gZmFsc2U7XG5cdCAgICBcdC8vdm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgXHR2bS5zdGF0ZS5pbnB1dC5jbGFzc2VzID0gc3RhdGVEYXRhLnVwZGF0ZVN0YXRlKCdpbnB1dCcsICdzdWNjZXNzJyk7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXN1Y2Nlc3MnXSA9IHRydWU7XG5cdCAgICBcdC8vdm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IGZhbHNlO1xuXHQgICAgXHQvL3ZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBmYWlsaWZ5SW5wdXQoKSB7IFxuXHQgICAgXHQvLyRsb2cuaW5mbygnZmFpbGVkJyk7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtc3VjY2VzcyddID0gZmFsc2U7XG5cdCAgICBcdHZtLnN0YXRlLmNvbnRhaW5lci5jbGFzc2VzWydoYXMtd2FybmluZyddID0gdHJ1ZTtcblx0ICAgIFx0dm0uc3RhdGUuY29udGFpbmVyLmNsYXNzZXNbJ2hhcy1kYW5nZXInXSA9IGZhbHNlO1xuXG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1zdWNjZXNzJ10gPSBmYWxzZTtcblx0ICAgIFx0dm0uc3RhdGUuaW5wdXQuY2xhc3Nlc1snZm9ybS1jb250cm9sLXdhcm5pbmcnXSA9IHRydWU7XG5cdCAgICBcdHZtLnN0YXRlLmlucHV0LmNsYXNzZXNbJ2Zvcm0tY29udHJvbC1kYW5nZXInXSA9IGZhbHNlO1xuXHQgICAgfVxuXG5cdCAgICBmdW5jdGlvbiBjaXR5U3RhdGVMb29rdXAoemlwY29kZSkge1xuXHRcdCAgICBzZXJ2ZXIuY2l0eVN0YXRlTG9va3VwKHppcGNvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQgICAgXHQkbG9nLmluZm8oJ2dvdCB0aGlzIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXHRcdCAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdCAgICBcdCRsb2cuaW5mbygnZ290IHRoaXMgZXJyb3InLCBlcnJvcik7XG5cdFx0ICAgIH0pO1x0ICAgIFx0XG5cdCAgICB9XG5cblx0ICAgIHZtLnZhbGlkYXRlID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdC8vb25seSB2YWxpZGF0ZSBpZiB0aGV5J3ZlIHRyaWVkIGF0IGxlYXN0IG9uY2Vcblx0ICAgIFx0aWYodm0udmFsU3RhZ2VzLmF0dGVtcHRlZCkge1xuXG5cdCAgICBcdFx0Ly9jaGVjayBpZiBpdCdzIGxvbmcgZW5vdWdoXG5cdCAgICBcdFx0aWYobG9uZ0Vub3VnaCh6aXBjb2RlKSkgc3VjY2Vzc2lmeUlucHV0KCk7XG5cdCAgICBcdFx0ZWxzZSBmYWlsaWZ5SW5wdXQoKTtcblxuXHQgICAgXHR9XG5cblx0ICAgIH1cblxuXHQgICAgdm0uc3VibWl0ID0gZnVuY3Rpb24oemlwY29kZSkge1xuXG5cdCAgICBcdHZtLnZhbFN0YWdlcy5hdHRlbXB0ZWQgPSB0cnVlO1xuXG5cdCAgICBcdHZtLnZhbGlkYXRlKHppcGNvZGUpO1xuXHQgICAgfVxuXG5cdH1cblxuXHRyZXR1cm4gIGRpcmVjdGl2ZTtcblx0XHRcbn07IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdjb25maXJtYXRpb25Db250cm9sbGVyJywgY29uZmlybWF0aW9uQ29udHJvbGxlcik7XG5cbmNvbmZpcm1hdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpcm1hdGlvbkNvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRsb2NhdGlvbicsICckcm9vdFNjb3BlJywgJ2RhdGFNb2RlbCcsICdzZXJ2ZXInXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb3V0ZVBhcmFtcywgJGxvY2F0aW9uLCAkcm9vdFNjb3BlLCBkYXRhTW9kZWwsIHNlcnZlcikge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0dm0ubW9kZWwgPSBkYXRhTW9kZWw7XG5cblx0Ly93YXRjaGVyc1xuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnppcCcsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnppcCA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5jaXR5JywgZnVuY3Rpb24oY3VycmVudCwgb3JpZ2luYWwpIHtcblx0XHRpZih2bS5tb2RlbC5jb3B5U2hpcHBpbmdBZGRyZXNzKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MuY2l0eSA9IGN1cnJlbnQ7XG5cdH0pO1xuXHRcblx0JHNjb3BlLiR3YXRjaCgndm0ubW9kZWwuc2hpcHBpbmcuYWRkcmVzcy5zdGF0ZScsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0YXRlID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDEnLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQxID0gY3VycmVudDtcblx0fSk7XG5cdFxuXHQkc2NvcGUuJHdhdGNoKCd2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzLnN0cmVldDInLCBmdW5jdGlvbihjdXJyZW50LCBvcmlnaW5hbCkge1xuXHRcdGlmKHZtLm1vZGVsLmNvcHlTaGlwcGluZ0FkZHJlc3MpIHZtLm1vZGVsLmJpbGxpbmcuYWRkcmVzcy5zdHJlZXQyID0gY3VycmVudDtcblx0fSk7XHRcblx0XG5cdCRzY29wZS4kd2F0Y2goJ3ZtLm1vZGVsLnNoaXBwaW5nLmFkZHJlc3Muc3RyZWV0MycsIGZ1bmN0aW9uKGN1cnJlbnQsIG9yaWdpbmFsKSB7XG5cdFx0aWYodm0ubW9kZWwuY29weVNoaXBwaW5nQWRkcmVzcykgdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzLnN0cmVldDMgPSBjdXJyZW50O1xuXHR9KTtcdFxuXG5cdC8vdmlldyBtb2RlbCBtZXRob2RzXG5cdHZtLmNvcHlTaGlwcGluZ0FkZHJlc3MgPSBmdW5jdGlvbihidG5TdGF0ZSkge1xuXHRcdC8vJGxvZy5pbmZvKCdjb3B5aW5nJywgdm0ubW9kZWwuc2hpcHBpbmcpO1xuXHRcdGlmKGJ0blN0YXRlKSB2bS5tb2RlbC5iaWxsaW5nLmFkZHJlc3MgPSB2bS5tb2RlbC5zaGlwcGluZy5hZGRyZXNzO1xuXHRcdGVsc2Ugdm0ubW9kZWwuYmlsbGluZy5hZGRyZXNzID0gZGF0YU1vZGVsLmJpbGxpbmcuYWRkcmVzcztcblx0fVxuXG5cdHZtLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdCRsb2cuaW5mbygnc3VibWl0dGluZycsIHZhbHVlKTtcblxuXHRcdHNlcnZlci5zdWJtaXRTYWxlKHZtLm1vZGVsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdCRsb2cuaW5mbyhyZXNwb25zZSk7XG5cblx0XHRcdC8vd2hlbiB0aGUgcHJvbWlzZSByZXNvbHZlcywgcmUtcm91dGUgdGhlbVxuXHRcdFx0JGxvY2F0aW9uLnBhdGgoJy9jb25maXJtYXRpb24vP3Rlc2luZz1nb29kVGVzdCcpO1xuXHRcdFx0JHJvb3RTY29wZS4kYXBwbHkoKTtcblxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cblx0XHRcdCRsb2cuaW5mbyhlcnJvcik7XG5cdFx0fSk7XG5cblx0XHQvL3Rha2UgdGhlbSBpbW1lZGlhdGx5IHRvIHRoZSBwcm9jZXNzaW5nIHBhZ2Vcblx0XHQkbG9jYXRpb24ucGF0aCgnL3Byb2Nlc3NpbmcnKTtcblxuXHR9XG59XHQiLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgndHJ1bXBzTnV0cycpXG4gICAgLmNvbnRyb2xsZXIoJ3Byb2Nlc3NpbmdDb250cm9sbGVyJywgcHJvY2Vzc2luZ0NvbnRyb2xsZXIpO1xuXG5wcm9jZXNzaW5nQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbG9nJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gcHJvY2Vzc2luZ0NvbnRyb2xsZXIoJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxufVx0IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5jb25maWcoY29uZmlnKTtcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY29uZmlnKCRyb3V0ZVByb3ZpZGVyKSB7ICAgXG4gICAgJHJvdXRlUHJvdmlkZXJcbiAgICAvL2RlZmluZSB0aGUgbGFuZGluZyBwYWdlXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJyxcbiAgICAgICAgY29udHJvbGxlcjogJ2xhbmRpbmdDb250cm9sbGVyJyxcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL3Byb2Nlc3NpbmcnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcHJvY2Vzc2luZy5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAncHJvY2Vzc2luZ0NvbnRyb2xsZXInLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY29uZmlybWF0aW9uJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbmZpcm1hdGlvbi5odG0nLFxuICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybWF0aW9uQ29udHJvbGxlcicsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pO1xufVxuXG5cblxuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzZXJ2ZXInLCBzZXJ2ZXIpO1xuXG5zZXJ2ZXIuJGluamVjdCA9IFsnJGxvZycsICckaHR0cCddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNlcnZlcigkbG9nLCAkaHR0cCkge1xuXHR2YXIgYmFja2VuZCA9IHRoaXM7XG5cblx0Ly9nZXRzIGZyb20gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9nZXQgPSBmdW5jdGlvbih1cmwpIHtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0JGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cblx0XHRcdH0sIGZ1bmN0aW9uIHRoZUVycm9ycyhlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vcG9zdHMgdG8gdGhlIHNlcnZlclxuXHRiYWNrZW5kLl9wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcblxuXHRcdCRsb2cuaW5mbygndXJsJywgdXJsLCAnZGF0YScsIGRhdGEpO1xuXG5cdFx0Ly9yZXR1cm4gdGhlIHByb21pc2Vcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdCRodHRwLnBvc3QodXJsLCBkYXRhLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSwgZnVuY3Rpb24gdGhlRXJyb3JzKGVycm9yKSB7XG5cblx0XHRcdFx0cmVqZWN0KGVycm9yKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0Ly9yZWNlaXZlcyBhIHppcGNvZGUsIHJldHVybnMgYSBjaXR5IGFuZCBzdGF0ZVxuXHRiYWNrZW5kLmNpdHlTdGF0ZUxvb2t1cCA9IGZ1bmN0aW9uKHppcGNvZGUpIHtcblxuXHRcdC8vYnVpbGQgdGhlIG5ldyB1cmxcblx0XHR2YXIgdXJsID0gJy9hcGkvemlwY2hlY2svJyArIHppcGNvZGU7XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXG5cdFx0XHRcdC8vcmV0dXJuIGEgZ29vZCByZXNwb25zZVxuXHRcdFx0XHRyZXNvbHZlKHJlc3BvbnNlKTtcblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcblxuXHRcdFx0XHQvL3JldHVybiBhbiBlcnJvciByZXNwb25zZVxuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0XHRcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG5cdGJhY2tlbmQuc3VibWl0U2FsZSA9IGZ1bmN0aW9uKG9yZGVyRm9ybSkge1xuXG5cdFx0JGxvZy5pbmZvKCdzdWJtaXR0aW5nIHNhbGUnKTtcblxuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlXG5cdFx0dmFyIGNvbmZpZyA9IHtcblx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTg7J1xuXHRcdH07XG5cblx0XHQvL3JldHVybiB0aGUgcHJvbWlzZVxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0Ly9pbml0aWF0ZSB0aGUgcmVxdWVzdFxuXHRcdFx0YmFja2VuZC5fcG9zdCgnL2FwaS9vcmRlcicsIG9yZGVyRm9ybSwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cblx0XHRcdFx0Ly9yZXR1cm4gYSBnb29kIHJlc3BvbnNlXG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fVxuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3RydW1wc051dHMnKVxuICAgIC5zZXJ2aWNlKCdzdGF0ZURhdGEnLCBzdGF0ZURhdGEpO1xuXG5zdGF0ZURhdGEuJGluamVjdCA9IFsnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHN0YXRlRGF0YSgkbG9nKSB7XG5cdHZhciBzdGF0ZSA9IHRoaXM7XG5cblx0c3RhdGUudmFsU3RhZ2VzID0ge1xuICAgIFx0YXR0ZW1wdGVkOiBmYWxzZSxcbiAgICBcdHN1Y2Nlc3NmdWw6IGZhbHNlLFxuICAgIFx0ZmFpbGVkOiB0cnVlXG5cdH07XG5cblx0c3RhdGUuY2xhc3NlcyA9IHtcblx0XHRjb250YWluZXI6IHtcblx0XHRcdCdoYXMtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2hhcy13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnaGFzLWRhbmdlcic6IGZhbHNlLFx0XHRcdFxuXHRcdH0sXG5cdFx0aW5wdXQ6IHtcblx0XHRcdCdmb3JtLWNvbnRyb2wtc3VjY2Vzcyc6IGZhbHNlLFxuXHRcdFx0J2Zvcm0tY29udHJvbC13YXJuaW5nJzogZmFsc2UsXG5cdFx0XHQnZm9ybS1jb250cm9sLWRhbmdlcic6IGZhbHNlXG5cdFx0fVxuXHR9O1xuXG5cdHN0YXRlLnN0eWxlcyA9IHtcblx0XHRjb250YWluZXI6IHt9LFxuXHRcdGlucHV0OiB7fVxuXHR9O1xuXG5cdHN0YXRlLmluaXRWYWxTdGFnZXMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc3RhdGUudmFsU3RhZ2VzO1xuXHR9XG5cblx0c3RhdGUuaW5pdENsYXNzZXMgPSBmdW5jdGlvbihzZWN0aW9uKSB7XG5cdFx0cmV0dXJuIHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS5pbml0U3R5bGVzID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdHJldHVybiBzdGF0ZS5zdHlsZXNbc2VjdGlvbl07XG5cdH1cblxuXHRzdGF0ZS51cGRhdGVTdGF0ZSA9IGZ1bmN0aW9uKHNlY3Rpb24sIHZhbHVlKSB7XG5cdFx0dmFyIHJldHVybk9iamVjdCA9IHN0YXRlLmNsYXNzZXNbc2VjdGlvbl07XG5cblx0XHRPYmplY3Qua2V5cyhyZXR1cm5PYmplY3QpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHR2YXIgcmVzdWx0QXJyYXkgPSBrZXkuc3BsaXQoJy0nKTtcblxuXHRcdFx0cmVzdWx0QXJyYXkuZm9yRWFjaChmdW5jdGlvbih3b3JkKSB7XG5cdFx0XHRcdGlmKHdvcmQgPT0gdmFsdWUpIHJldHVybk9iamVjdFtrZXldID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSByZXR1cm5PYmplY3Rba2V5XSA9IGZhbHNlO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vaWYoa2V5LmNvbnRhaW5zKHZhbHVlKSkgcmV0dXJuT2JqZWN0W2tleV0gPSB0cnVlO1xuXHRcdFx0Ly9lbHNlIHJldHVybk9iamVjdFtrZXldID0gZmFsc2U7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmV0dXJuT2JqZWN0O1xuXHR9XG5cbn1cdCIsIi8vIE1PRFVMRVxudmFyIHRydW1wc051dHMgPSBhbmd1bGFyLm1vZHVsZSgndHJ1bXBzTnV0cycsIFsnbmdSb3V0ZSddKTtcblxuIl19
